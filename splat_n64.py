from splat_api import SplatConfig, create_config


def get_n64_config(region: str) -> SplatConfig:
    if region == "e":
        config = create_config(
            "Legoracers (European (basic spec.))",
            "6e9c4b097628f0147e9e79393dba6d7b4e59986f",
        )
        target_path = "../legoracers.e.z64"
    elif region == "u":
        config = create_config("Legoracers (North America)", "8decc41869926e20da2eb3da526e6395aa33cece")
        target_path = "../legoracers.u.z64"
    else:
        raise ValueError("Invalid region")

    # Set options
    config.set_option("basename", "legoracers")
    config.set_option("platform", "n64")
    config.set_option("target_path", target_path)
    config.set_option("base_path", ".")
    config.set_option("compiler", "GCC")
    config.set_option("find_file_boundaries", True)
    config.set_option("header_encoding", "ASCII")
    config.set_option("symbol_addrs_path", "symbol_addrs.txt")
    config.set_option("extensions_path", "tools/splat_ext")
    config.set_option("nonmatchings_path", "../nonmatchings")
    config.set_option(
        "section_order",
        [".start", ".rdata", ".rodata", ".ctors", ".dtors", ".text", ".data", ".bss"],
    )
    config.set_option("migrate_rodata_to_functions", True)
    config.set_option("rodata_string_guesser_level", 2)
    config.set_option("use_legacy_include_asm", False)

    # Add segments
    config.add_segment(0x0, "header", "header")

    config.add_segment(0x40, "bin", "boot")

    segment = config.add_segment(0x1000, "code", "main", vram=2147484672, bss_size=39120)

    # Add subsegments to main segment
    # offset: 0x7FFFF400
    segment.add_segment(0x1000, "start", "snmain")  # main
    segment.add_segment(0x1064, "garbage")
    segment.add_segment(0x1070, ".rdata", "libc")
    segment.add_segment(0x10A0, ".rdata", "main/030")
    segment.add_segment(0x114C, "garbage")
    segment.add_segment(0x1150, ".rdata", "main/060")
    segment.add_segment(0x1330, ".rdata", "main/070")
    segment.add_segment(0x1358, "garbage")
    segment.add_segment(0x1360, ".rdata", "main/080a")
    segment.add_segment(0x1390, ".rdata", "main/080b")
    segment.add_segment(0x17F8, "garbage")
    segment.add_segment(0x1800, "rdata", "main/1800")
    segment.add_segment(0x1888, "garbage")
    segment.add_segment(0x1890, "rdata", "main/1890")
    segment.add_segment(0x1A38, "garbage")
    segment.add_segment(0x1A40, "rdata", "main/1A40")
    segment.add_segment(0x1C1C, "garbage")
    segment.add_segment(0x1C20, "rdata", "main/1C20")
    segment.add_segment(0x1C58, "garbage")
    segment.add_segment(0x1C60, "rdata", "main/1C60")
    segment.add_segment(0x1CC8, "garbage")
    segment.add_segment(0x1CD0, "rdata", "main/1CD0")
    segment.add_segment(0x1CE8, "garbage")
    segment.add_segment(0x1CF0, "rdata", "main/1CF0")
    segment.add_segment(0x1D38, "garbage")
    segment.add_segment(0x1D40, "rdata", "main/1D40")
    segment.add_segment(0x1D50, "rdata", "libsn/divdi3")
    segment.add_segment(0x1E50, "rdata", "libsn/udivdi3")
    segment.add_segment(0x1F50, "rdata", "libsn/umoddi3")
    segment.add_segment(0x2050, "rodata", "libultra/setintmask")
    segment.add_segment(0x20D0, "rodata", "libultra/rodata")
    segment.add_segment(0x2518, "garbage")
    segment.add_segment(0x2520, "rodata", "libultra/rodata2")

    # .text
    segment.add_segment(0x2610, "c", "libc")
    segment.add_segment(0x30CC, "garbage")
    segment.add_segment(0x30D0, "c", "main/010")
    segment.add_segment(0x347C, "garbage")
    segment.add_segment(0x3480, "c", "main/020")
    segment.add_segment(0x3D7C, "garbage")
    segment.add_segment(0x3D80, "c", "main/030")
    segment.add_segment(0x6344, "garbage")
    segment.add_segment(0x6350, "c", "main/040")
    segment.add_segment(0x6770, "cpp", "main/string")
    segment.add_segment(0x6E8C, "garbage")
    segment.add_segment(0x6E90, "c", "main/050")
    segment.add_segment(0x6EBC, "garbage")
    segment.add_segment(0x6EC0, "c", "main/060")
    segment.add_segment(0x8624, "garbage")
    segment.add_segment(0x8630, "c", "main/070")
    segment.add_segment(0x8D04, "garbage")
    segment.add_segment(0x8D10, "c", "main/080a")  # needs split
    segment.add_segment(0x9350, "c", "main/080b")  # needs split
    segment.add_segment(0xAA24, "garbage")
    segment.add_segment(0xAA30, "c", "main/090")
    segment.add_segment(0xB894, "garbage")
    segment.add_segment(0xB8A0, "c", "main/100")
    segment.add_segment(0xBCEC, "garbage")
    segment.add_segment(0xBCF0, "c", "main/110")
    segment.add_segment(0xC93C, "garbage")
    segment.add_segment(0xC940, "c", "main/120")
    segment.add_segment(0xCED4, "garbage")
    segment.add_segment(0xCEE0, "c", "main/130")
    segment.add_segment(0xCF28, "garbage")
    segment.add_segment(0xCF30, "c", "main/140")
    segment.add_segment(0xD00C, "garbage")
    segment.add_segment(0xD010, "textbin", "rspboot")  # rspbootTextStart
    segment.add_segment(0xD0E0, "textbin", "gspF3DEX2_NoN_fifoTextStart")
    segment.add_segment(0xE470, "textbin", "n_aspMain.text")
    segment.add_segment(0xF0D0, "asm", "libmus/player")
    segment.add_segment(0x1250C, "garbage")
    segment.add_segment(0x12510, "asm", "libmus/player_fx")
    segment.add_segment(0x12D30, "asm", "libmus/aud_dma")
    segment.add_segment(0x13184, "garbage")
    segment.add_segment(0x13190, "asm", "libmus/aud_sched")
    segment.add_segment(0x13344, "garbage")
    segment.add_segment(0x13350, "asm", "libmus/aud_thread")
    segment.add_segment(0x135E4, "garbage")
    segment.add_segment(0x135F0, "asm", "libmus/aud_samples")
    segment.add_segment(0x13704, "garbage")
    segment.add_segment(0x13710, "asm", "libmus/lib_memory")
    segment.add_segment(0x13840, "asm", "libaudio/n_auxbux")
    segment.add_segment(0x138E0, "asm", "libaudio/n_drverNew")
    segment.add_segment(0x13DF4, "garbage")
    segment.add_segment(0x13E00, "asm", "libaudio/n_env")
    segment.add_segment(0x14794, "garbage")
    segment.add_segment(0x147A0, "asm", "libaudio/0x147A0")
    segment.add_segment(0x14EA4, "garbage")
    segment.add_segment(0x14EB0, "asm", "libaudio/n_resample")
    segment.add_segment(0x15070, "asm", "libaudio/x147A0")
    segment.add_segment(0x15AB8, "garbage")
    segment.add_segment(0x15AC0, "asm", "libaudio/n_synaddplayer")
    segment.add_segment(0x15B0C, "garbage")
    segment.add_segment(0x15B10, "asm", "libaudio/n_synallocvoice")
    segment.add_segment(0x15D98, "garbage")
    segment.add_segment(0x15DA0, "asm", "libaudio/0x15DA0")
    segment.add_segment(0x15F48, "garbage")
    segment.add_segment(0x15F50, "asm", "libaudio/0x15F50")
    segment.add_segment(0x15FD4, "garbage")
    segment.add_segment(0x15FE0, "asm", "libaudio/0x15FE0")
    segment.add_segment(0x16050, "asm", "libaudio/n_synthesiser")
    segment.add_segment(0x16568, "garbage")
    segment.add_segment(0x16570, "asm", "libaudio/n_save")
    segment.add_segment(0x165BC, "garbage")
    segment.add_segment(0x165C0, "asm", "libaudio/n_mainbus")
    segment.add_segment(0x16638, "garbage")
    segment.add_segment(0x16640, "asm", "libaudio/n_syncallocfx")
    segment.add_segment(0x16694, "garbage")
    segment.add_segment(0x166A0, "asm", "libultra/osSetIntMask")
    segment.add_segment(0x16960, "asm", "libultra/osPiRawStartDma")
    segment.add_segment(0x16C20, "asm", "libultra/16C20")
    segment.add_segment(0x16CC0, "asm", "libultra/16CC0")
    segment.add_segment(0x16E60, "asm", "libultra/16E60")
    segment.add_segment(0x17220, "asm", "libultra/17220")
    segment.add_segment(0x172B0, "asm", "libultra/172B0")
    segment.add_segment(0x17420, "asm", "libultra/17420")
    segment.add_segment(0x17590, "asm", "libultra/17590")
    segment.add_segment(0x17680, "asm", "libultra/17680")
    segment.add_segment(0x17730, "asm", "libultra/17730")
    segment.add_segment(0x17870, "asm", "libultra/17870")
    segment.add_segment(0x17910, "asm", "libultra/17910")
    segment.add_segment(0x17930, "asm", "libultra/17930")
    segment.add_segment(0x18160, "asm", "libultra/18160")
    segment.add_segment(0x18C70, "asm", "libultra/18C70")
    segment.add_segment(0x18D80, "asm", "libultra/18D80")
    segment.add_segment(0x19A50, "asm", "libultra/19A50")
    segment.add_segment(0x19E70, "asm", "libultra/19E70")
    segment.add_segment(0x1AA10, "asm", "libultra/1AA10")
    segment.add_segment(0x1AB90, "asm", "libultra/1AB90")
    segment.add_segment(0x1ABD0, "asm", "libultra/1ABD0")
    segment.add_segment(0x1AC20, "asm", "libultra/1AC20")
    segment.add_segment(0x1AC60, "asm", "libultra/1AC60")
    segment.add_segment(0x1B2A0, "asm", "libultra/1B2A0")
    segment.add_segment(0x1B2B0, "asm", "libultra/1B2B0")
    segment.add_segment(0x1B350, "asm", "libultra/1B350")
    segment.add_segment(0x1B480, "asm", "libultra/1B480")
    segment.add_segment(0x1B500, "asm", "libultra/1B500")
    segment.add_segment(0x1B530, "asm", "libultra/1B530")
    segment.add_segment(0x1B7B0, "asm", "libultra/1B7B0")
    segment.add_segment(0x1BAC0, "asm", "libultra/1BAC0")
    segment.add_segment(0x1BB20, "asm", "libultra/1BB20")
    segment.add_segment(0x1BB30, "asm", "libultra/1BB30")
    segment.add_segment(0x1BF00, "asm", "libultra/1BF00")
    segment.add_segment(0x1C450, "asm", "libultra/1C450")
    segment.add_segment(0x1C4E0, "asm", "libultra/1C4E0")
    segment.add_segment(0x1CF10, "asm", "libultra/1CF10")
    segment.add_segment(0x1D160, "asm", "libultra/1D160")
    segment.add_segment(0x1D320, "asm", "libultra/1D320")
    segment.add_segment(0x1DDA0, "asm", "libultra/1DDA0")
    segment.add_segment(0x1DDD0, "asm", "libultra/1DDD0")
    segment.add_segment(0x1DF10, "asm", "libultra/1DF10")
    segment.add_segment(0x1E880, "asm", "libultra/1E880")  # osRecvMesg
    segment.add_segment(0x1E9B0, "asm", "libultra/1E9B0")
    segment.add_segment(0x1EB90, "asm", "libultra/1EB90")
    segment.add_segment(0x1EDD0, "asm", "libultra/1EDD0")
    segment.add_segment(0x1F110, "asm", "libultra/1F110")
    segment.add_segment(0x1F1E0, "asm", "libultra/1F1E0")
    segment.add_segment(0x1F200, "asm", "libultra/1F200")
    segment.add_segment(0x1F250, "asm", "libultra/1F250")
    segment.add_segment(0x1FD10, "asm", "libultra/1FD10")
    segment.add_segment(0x1FD30, "asm", "libultra/1FD30")
    segment.add_segment(0x1FDE0, "asm", "libultra/1FDE0")
    segment.add_segment(0x1FED0, "asm", "libultra/1FED0")
    segment.add_segment(0x20080, "asm", "libultra/20080")
    segment.add_segment(0x200A0, "asm", "libultra/200A0")
    segment.add_segment(0x20170, "asm", "libultra/20170")
    segment.add_segment(0x20290, "asm", "libultra/20290")
    segment.add_segment(0x20350, "asm", "libultra/20350")
    segment.add_segment(0x20390, "asm", "libultra/20390")
    segment.add_segment(0x203E0, "asm", "libultra/203E0")
    segment.add_segment(0x20470, "asm", "libultra/20470")
    segment.add_segment(0x20480, "asm", "libultra/20480")
    segment.add_segment(0x20520, "asm", "libultra/20520")
    segment.add_segment(0x20820, "asm", "libultra/20820")
    segment.add_segment(0x20830, "asm", "libultra/20830")
    segment.add_segment(0x208F0, "asm", "libultra/208F0")
    segment.add_segment(0x20940, "asm", "libultra/20940")
    segment.add_segment(0x20980, "asm", "libultra/20980")
    segment.add_segment(0x20A90, "asm", "libultra/20A90")
    segment.add_segment(0x20AD0, "asm", "libultra/20AD0")
    segment.add_segment(0x20E10, "asm", "libultra/20E10")
    segment.add_segment(0x20E20, "asm", "libultra/20E20")
    segment.add_segment(0x20E80, "asm", "libultra/20E80")
    segment.add_segment(0x20ED0, "asm", "libultra/20ED0")
    segment.add_segment(0x21040, "asm", "libultra/21040")
    segment.add_segment(0x21090, "asm", "libultra/21090")
    segment.add_segment(0x213A0, "asm", "libultra/213A0")
    segment.add_segment(0x21400, "asm", "libultra/21400")
    segment.add_segment(0x21790, "asm", "libultra/21790")
    segment.add_segment(0x21880, "asm", "libultra/21880")
    segment.add_segment(0x21CB0, "asm", "libultra/21CB0")
    segment.add_segment(0x21ED0, "asm", "libultra/21ED0")
    segment.add_segment(0x224B0, "asm", "libultra/224B0")
    segment.add_segment(0x22670, "asm", "libultra/22670")
    segment.add_segment(0x22950, "asm", "libultra/22950")
    segment.add_segment(0x22A60, "asm", "libultra/22A60")
    segment.add_segment(0x22E30, "asm", "libultra/22E30")
    segment.add_segment(0x236C0, "asm", "libultra/236C0")
    segment.add_segment(0x238D0, "asm", "libultra/238D0")
    segment.add_segment(0x23940, "asm", "libultra/23940")
    segment.add_segment(0x243D0, "asm", "libultra/243D0")
    segment.add_segment(0x245C0, "asm", "libultra/245C0")
    segment.add_segment(0x24830, "asm", "libultra/24830")
    segment.add_segment(0x24B20, "asm", "libultra/24B20")
    segment.add_segment(0x24B30, "asm", "libultra/24B30")
    segment.add_segment(0x24BA0, "asm", "libultra/24BA0")
    segment.add_segment(0x24BC0, "asm", "libultra/24BC0")
    segment.add_segment(0x24C10, "asm", "libultra/24C10")
    segment.add_segment(0x24C70, "asm", "libsn/divdi3")
    segment.add_segment(0x2525C, "garbage")
    segment.add_segment(0x25260, "asm", "libsn/udivdi3")
    segment.add_segment(0x257E4, "garbage")
    segment.add_segment(0x257F0, "asm", "libsn/umoddi3")
    segment.add_segment(0x25CE4, "garbage")
    segment.add_segment(0x25CF0, "asm", "alloc")
    segment.add_segment(0x25D0C, "garbage")
    segment.add_segment(0x25D10, "asm", "__builtin_delete")
    segment.add_segment(0x25D2C, "garbage")

    # .data
    segment.add_segment(0x25D30, "data", "main/25D30")  # main_060, libc
    segment.add_segment(0x25E34, "garbage")
    segment.add_segment(0x25E40, "data", "main/25E40")  # main_010
    segment.add_segment(0x27E98, "garbage")
    segment.add_segment(0x27EA0, "data", "main/27EA0")  # main_020, main_050
    segment.add_segment(0x306B4, "garbage")
    segment.add_segment(0x306C0, "data", "main/306C0")  # main_060
    segment.add_segment(0x30948, "garbage")
    segment.add_segment(0x30950, "data", "main/30950")  # main_080
    segment.add_segment(0x30954, "garbage")
    segment.add_segment(0x30960, "data", "main/30960")  # main_080
    segment.add_segment(0x30968, "garbage")
    segment.add_segment(0x30970, "data", "main/30970")  # main_080
    segment.add_segment(0x309C4, "garbage")
    segment.add_segment(0x309D0, "data", "main/309D0")  # main_090
    segment.add_segment(0x309D4, "garbage")
    segment.add_segment(0x309E0, "data", "main/309E0")  # main_090
    segment.add_segment(0x309E4, "garbage")
    segment.add_segment(0x309F0, "data", "main/309F0")  # main_110, main_120
    segment.add_segment(0x30BF4, "garbage")
    segment.add_segment(0x30C00, "data", "main/30C00")
    segment.add_segment(0x30C04, "garbage")
    segment.add_segment(0x30C10, "bin", "gspF3DEX2_NoN_fifoDataStart")
    segment.add_segment(0x31030, "bin", "n_aspMain_data")
    segment.add_segment(0x312E0, "data", "libmus/player")
    segment.add_segment(0x31394, "garbage")
    segment.add_segment(0x313A0, "data", "lib/313A0")  # 12510
    segment.add_segment(0x315C4, "garbage")
    segment.add_segment(0x315D0, "data", "lib/315D0")
    segment.add_segment(0x315D4, "garbage")
    segment.add_segment(0x315E0, "data", "lib/315E0")
    segment.add_segment(0x3187C, "garbage")
    segment.add_segment(0x31880, "data", "lib/31880")  # 12510
    segment.add_segment(0x31888, "garbage")
    segment.add_segment(0x31890, "data", "lib/31890")  # ossetintmask

    segment = config.add_segment(0x33010, "code", "stage2", vram=2147728608, bss_size=266096)

    # Add subsegments to stage2 segment
    segment.add_segment(0x33010, "rdata", "stage2/010a")
    segment.add_segment(0x3301C, "garbage")
    segment.add_segment(0x33020, "rdata", "stage2/010b")  # 2
    segment.add_segment(0x33021, "garbage")
    segment.add_segment(0x33030, "rdata", "stage2/010c")
    segment.add_segment(0x33038, "garbage")
    segment.add_segment(0x33040, "rdata", "stage2/030")
    segment.add_segment(0x33168, "garbage")
    segment.add_segment(0x33170, "rdata", "stage2/040")
    segment.add_segment(0x332C0, "rdata", "stage2/050a")
    segment.add_segment(0x333B8, "garbage")
    segment.add_segment(0x333C0, "rdata", "stage2/050b")
    segment.add_segment(0x33508, "garbage")
    segment.add_segment(0x33510, ".rdata", "stage2/060")
    segment.add_segment(0x33511, "garbage")
    segment.add_segment(0x33520, ".rdata", "stage2/070")
    segment.add_segment(0x335C8, "garbage")
    segment.add_segment(0x335D0, "rdata", "stage2/080")
    segment.add_segment(0x336D8, "garbage")
    segment.add_segment(0x336E0, ".rdata", "stage2/090")
    segment.add_segment(0x336E1, "garbage")
    segment.add_segment(0x336F0, "rdata", "stage2/100")
    segment.add_segment(0x338D8, "garbage")
    segment.add_segment(0x338E0, "rdata", "stage2/110")
    segment.add_segment(0x33958, "garbage")
    segment.add_segment(0x33960, "rdata", "stage2/120")
    segment.add_segment(0x33A00, "rdata", "stage2/130")
    segment.add_segment(0x33AE8, "garbage")
    segment.add_segment(0x33AF0, "rdata", "stage2/140")
    segment.add_segment(0x33B40, "rdata", "stage2/150")
    segment.add_segment(0x33BC0, "rdata", "stage2/160")
    segment.add_segment(0x33BE0, "rdata", "stage2/170")
    segment.add_segment(0x33D50, "rdata", "stage2/180")
    segment.add_segment(0x33E38, "garbage")
    segment.add_segment(0x33E40, "rdata", "stage2/190")
    segment.add_segment(0x34020, "rdata", "stage2/200a")
    segment.add_segment(0x34148, "garbage")
    segment.add_segment(0x34150, "rdata", "stage2/200b")
    segment.add_segment(0x34160, "rdata", "stage2/210")
    segment.add_segment(0x34480, "rdata", "stage2/220")
    segment.add_segment(0x34530, "rdata", "stage2/230")
    segment.add_segment(0x34700, "rdata", "stage2/240")
    segment.add_segment(0x34814, "garbage")
    segment.add_segment(0x34820, "rdata", "stage2/250")
    segment.add_segment(0x34868, "garbage")
    segment.add_segment(0x34870, "rdata", "stage2/260")
    segment.add_segment(0x34A14, "garbage")
    segment.add_segment(0x34A20, "rdata", "stage2/270")
    segment.add_segment(0x34C70, "rdata", "stage2/280")
    segment.add_segment(0x34CC8, "garbage")
    segment.add_segment(0x34CD0, "rdata", "stage2/290")
    segment.add_segment(0x34D60, "rdata", "stage2/300a")
    segment.add_segment(0x34E38, "garbage")
    segment.add_segment(0x34E40, "rdata", "stage2/300b")
    segment.add_segment(0x34F80, "rdata", "stage2/310")
    segment.add_segment(0x35100, "rdata", "stage2/320")
    segment.add_segment(0x35188, "garbage")
    segment.add_segment(0x35190, ".rdata", "stage2/330")
    segment.add_segment(0x35610, "rdata", "stage2/340")
    segment.add_segment(0x35680, "rdata", "stage2/350")
    segment.add_segment(0x356A8, "garbage")
    segment.add_segment(0x356B0, "rdata", "stage2/360")
    segment.add_segment(0x357A8, "garbage")
    segment.add_segment(0x357B0, "rdata", "stage2/370")
    segment.add_segment(0x358A0, "rdata", "stage2/380")
    segment.add_segment(0x35968, "garbage")
    segment.add_segment(0x35970, "rdata", "stage2/390")
    segment.add_segment(0x35A50, "rdata", "stage2/400")
    segment.add_segment(0x35A54, "garbage")
    segment.add_segment(0x35A60, "rdata", "stage2/410")
    segment.add_segment(0x35A81, "garbage")
    segment.add_segment(0x35A90, "rdata", "stage2/420")
    segment.add_segment(0x35BB8, "garbage")
    segment.add_segment(0x35BC0, "rdata", "stage2/430")
    segment.add_segment(0x35C80, "rdata", "stage2/440")
    segment.add_segment(0x35C84, "garbage")
    segment.add_segment(0x35C90, "rdata", "stage2/450")
    segment.add_segment(0x35E70, "rdata", "stage2/460")
    segment.add_segment(0x35F14, "garbage")
    segment.add_segment(0x35F20, "rdata", "stage2/470")
    segment.add_segment(0x35FD1, "garbage")
    segment.add_segment(0x35FE0, "rdata", "stage2/480")
    segment.add_segment(0x36068, "garbage")
    segment.add_segment(0x36070, "rdata", "stage2/490")
    segment.add_segment(0x360D0, "rdata", "stage2/500")
    segment.add_segment(0x36128, "garbage")
    segment.add_segment(0x36130, "rdata", "stage2/510")
    segment.add_segment(0x36190, "rdata", "stage2/520")
    segment.add_segment(0x361E8, "garbage")
    segment.add_segment(0x361F0, "rdata", "stage2/530")
    segment.add_segment(0x36290, "rdata", "stage2/550")
    segment.add_segment(0x36308, "garbage")
    segment.add_segment(0x36310, "rdata", "stage2/560")
    segment.add_segment(0x363B8, "garbage")
    segment.add_segment(0x363C0, "rdata", "stage2/570")
    segment.add_segment(0x36418, "garbage")
    segment.add_segment(0x36420, ".rdata", "stage2/580")
    segment.add_segment(0x367F8, "garbage")
    segment.add_segment(0x36800, "rdata", "stage2/590")
    segment.add_segment(0x36890, ".rdata", "stage2/600")
    segment.add_segment(0x36B18, "garbage")
    segment.add_segment(0x36B20, "rdata", "stage2/610")
    segment.add_segment(0x36C28, "garbage")
    segment.add_segment(0x36C30, ".rdata", "stage2/620")
    segment.add_segment(0x36E68, "garbage")
    segment.add_segment(0x36E70, ".rdata", "stage2/625")
    segment.add_segment(0x36F00, "rdata", "stage2/630")
    segment.add_segment(0x36FA8, "garbage")
    segment.add_segment(0x36FB0, "rdata", "stage2/640")
    segment.add_segment(0x37038, "garbage")
    segment.add_segment(0x37040, ".rdata", "stage2/650")
    segment.add_segment(0x37150, "rdata", "stage2/660")
    segment.add_segment(0x371C8, "garbage")
    segment.add_segment(0x371D0, "rdata", "stage2/670a")
    segment.add_segment(0x373A8, "garbage")
    segment.add_segment(0x373B0, "rdata", "stage2/670b")
    segment.add_segment(0x374B8, "garbage")
    segment.add_segment(0x374C0, "rdata", "stage2/680")
    segment.add_segment(0x37568, "garbage")
    segment.add_segment(0x37570, "rdata", "stage2/690")
    segment.add_segment(0x37658, "garbage")
    segment.add_segment(0x37660, "rdata", "stage2/700")
    segment.add_segment(0x376E8, "garbage")
    segment.add_segment(0x376F0, "rdata", "stage2/720")
    segment.add_segment(0x376F1, "garbage")
    segment.add_segment(0x37700, "rdata", "stage2/740")
    segment.add_segment(0x37810, "rdata", "stage2/750")
    segment.add_segment(0x3781C, "garbage")
    segment.add_segment(0x37820, "rdata", "stage2/760a")
    segment.add_segment(0x37898, "garbage")
    segment.add_segment(0x378A0, "rdata", "stage2/760b")
    segment.add_segment(0x378E8, "garbage")
    segment.add_segment(0x378F0, "rdata", "stage2/760c")
    segment.add_segment(0x37A10, "rdata", "stage2/770")
    segment.add_segment(0x37AE8, "garbage")
    segment.add_segment(0x37AF0, "rdata", "stage2/780")
    segment.add_segment(0x37BE0, "rdata", "stage2/790")
    segment.add_segment(0x37CF0, "rdata", "stage2/800")
    segment.add_segment(0x37D50, "rdata", "stage2/810")

    # Ctors
    segment.add_segment(0x37DA0, "ctors", "stage2/080.ctors")
    segment.add_segment(0x37DA4, "garbage")
    segment.add_segment(0x37DB0, "ctors", "stage2/180a.ctors")
    segment.add_segment(0x37DB4, "garbage")
    segment.add_segment(0x37DC0, "ctors", "stage2/180b.ctors")
    segment.add_segment(0x37DC4, "garbage")
    segment.add_segment(0x37DD0, "ctors", "stage2/670.ctors")
    segment.add_segment(0x37DD4, "garbage")
    segment.add_segment(0x37DE0, "ctors", "stage2/730.ctors")
    segment.add_segment(0x37DE4, "garbage")
    segment.add_segment(0x37DF0, "dtors", "stage2/080.dtors")
    segment.add_segment(0x37DF4, "garbage")
    segment.add_segment(0x37E00, "dtors", "stage2/180a.dtors")
    segment.add_segment(0x37E04, "garbage")
    segment.add_segment(0x37E10, "dtors", "stage2/180b.dtors")
    segment.add_segment(0x37E14, "garbage")
    segment.add_segment(0x37E20, "dtors", "stage2/670.dtors")
    segment.add_segment(0x37E24, "garbage")
    segment.add_segment(0x37E30, "asm", "stage2/010")
    segment.add_segment(0x38CF4, "garbage")
    segment.add_segment(0x38D00, "asm", "stage2/020")
    segment.add_segment(0x38D3C, "garbage")
    segment.add_segment(0x38D40, "asm", "stage2/030")  # split
    segment.add_segment(0x39CB8, "garbage")
    segment.add_segment(0x39CC0, "asm", "stage2/040")
    segment.add_segment(0x3B13C, "garbage")
    segment.add_segment(0x3B140, "asm", "stage2/050")  # split
    segment.add_segment(0x3CCB8, "garbage")
    segment.add_segment(0x3CCC0, "c", "stage2/060")
    segment.add_segment(0x3CD68, "garbage")
    segment.add_segment(0x3CD70, "c", "stage2/070")
    segment.add_segment(0x3DDF4, "garbage")
    segment.add_segment(0x3DE00, "asm", "stage2/080")
    segment.add_segment(0x3E144, "garbage")
    segment.add_segment(0x3E150, "cpp", "stage2/090")
    segment.add_segment(0x3E204, "garbage")
    segment.add_segment(0x3E210, "asm", "stage2/100")
    segment.add_segment(0x4077C, "garbage")
    segment.add_segment(0x40780, "asm", "stage2/110")
    segment.add_segment(0x421B4, "garbage")
    segment.add_segment(0x421C0, "asm", "stage2/120")
    segment.add_segment(0x42794, "garbage")
    segment.add_segment(0x427A0, "asm", "stage2/130")
    segment.add_segment(0x4326C, "garbage")
    segment.add_segment(0x43270, "asm", "stage2/140")
    segment.add_segment(0x435D8, "garbage")
    segment.add_segment(0x435E0, "asm", "stage2/150")
    segment.add_segment(0x436AC, "garbage")
    segment.add_segment(0x436B0, "asm", "stage2/160")
    segment.add_segment(0x43738, "garbage")
    segment.add_segment(0x43740, "asm", "stage2/170")
    segment.add_segment(0x43F4C, "garbage")
    segment.add_segment(0x43F50, "asm", "stage2/180")  # split
    segment.add_segment(0x47948, "garbage")
    segment.add_segment(0x47950, "asm", "stage2/190")
    segment.add_segment(0x4B30C, "garbage")
    segment.add_segment(0x4B310, "asm", "stage2/200")  # split
    segment.add_segment(0x4BEB4, "garbage")
    segment.add_segment(0x4BEC0, "asm", "stage2/210")
    segment.add_segment(0x4CF48, "garbage")
    segment.add_segment(0x4CF50, "asm", "stage2/220")
    segment.add_segment(0x4DE74, "garbage")
    segment.add_segment(0x4DE80, "asm", "stage2/230")
    segment.add_segment(0x4F404, "garbage")
    segment.add_segment(0x4F410, "asm", "stage2/240")
    segment.add_segment(0x50118, "garbage")
    segment.add_segment(0x50120, "asm", "stage2/250")
    segment.add_segment(0x505BC, "garbage")
    segment.add_segment(0x505C0, "asm", "stage2/260")  # split
    segment.add_segment(0x5290C, "garbage")
    segment.add_segment(0x52910, "asm", "stage2/270")
    segment.add_segment(0x54524, "garbage")
    segment.add_segment(0x54530, "asm", "stage2/280")
    segment.add_segment(0x548E4, "garbage")
    segment.add_segment(0x548F0, "asm", "stage2/290")
    segment.add_segment(0x54AEC, "garbage")
    segment.add_segment(0x54AF0, "asm", "stage2/300")  # split
    segment.add_segment(0x56648, "garbage")
    segment.add_segment(0x56650, "asm", "stage2/310")
    segment.add_segment(0x573A8, "garbage")
    segment.add_segment(0x573B0, "asm", "stage2/320")
    segment.add_segment(0x5772C, "garbage")
    segment.add_segment(0x57730, "c", "stage2/330")
    segment.add_segment(0x5BD74, "garbage")
    segment.add_segment(0x5BD80, "asm", "stage2/340")
    segment.add_segment(0x5BDD4, "garbage")
    segment.add_segment(0x5BDE0, "asm", "stage2/350")
    segment.add_segment(0x5C01C, "garbage")
    segment.add_segment(0x5C020, "asm", "stage2/360")
    segment.add_segment(0x5C89C, "garbage")
    segment.add_segment(0x5C8A0, "asm", "stage2/370")
    segment.add_segment(0x5DFF8, "garbage")
    segment.add_segment(0x5E000, "asm", "stage2/380")
    segment.add_segment(0x5EB24, "garbage")
    segment.add_segment(0x5EB30, "asm", "stage2/390")
    segment.add_segment(0x5F248, "garbage")
    segment.add_segment(0x5F250, "asm", "stage2/400")
    segment.add_segment(0x5F5C8, "garbage")
    segment.add_segment(0x5F5D0, "asm", "stage2/410")
    segment.add_segment(0x5F6D4, "garbage")
    segment.add_segment(0x5F6E0, "asm", "stage2/420")
    segment.add_segment(0x6001C, "garbage")
    segment.add_segment(0x60020, "asm", "stage2/430")
    segment.add_segment(0x60494, "garbage")
    segment.add_segment(0x604A0, "asm", "stage2/440")
    segment.add_segment(0x605B4, "garbage")
    segment.add_segment(0x605C0, "asm", "stage2/450")
    segment.add_segment(0x609E4, "garbage")
    segment.add_segment(0x609F0, "asm", "stage2/460")
    segment.add_segment(0x61988, "garbage")
    segment.add_segment(0x61990, "asm", "stage2/470")
    segment.add_segment(0x6290C, "garbage")
    segment.add_segment(0x62910, "asm", "stage2/480")
    segment.add_segment(0x62CB4, "garbage")
    segment.add_segment(0x62CC0, "asm", "stage2/490")
    segment.add_segment(0x63128, "garbage")
    segment.add_segment(0x63130, "asm", "stage2/500")
    segment.add_segment(0x63B7C, "garbage")
    segment.add_segment(0x63B80, "asm", "stage2/510")
    segment.add_segment(0x64B58, "garbage")
    segment.add_segment(0x64B60, "asm", "stage2/520")
    segment.add_segment(0x64E08, "garbage")
    segment.add_segment(0x64E10, "asm", "stage2/530")
    segment.add_segment(0x65394, "garbage")
    segment.add_segment(0x653A0, "asm", "stage2/540")
    segment.add_segment(0x653EC, "garbage")
    segment.add_segment(0x653F0, "asm", "stage2/550")
    segment.add_segment(0x656B4, "garbage")
    segment.add_segment(0x656C0, "asm", "stage2/560")
    segment.add_segment(0x672F4, "garbage")
    segment.add_segment(0x67300, "asm", "stage2/570")
    segment.add_segment(0x677E8, "garbage")
    segment.add_segment(0x677F0, "cpp", "stage2/580")
    segment.add_segment(0x6E0B8, "garbage")
    segment.add_segment(0x6E0C0, "asm", "stage2/590")
    segment.add_segment(0x6F504, "garbage")
    segment.add_segment(0x6F510, "c", "stage2/600")
    segment.add_segment(0x6FD2C, "garbage")
    segment.add_segment(0x6FD30, "asm", "stage2/610")
    segment.add_segment(0x705CC, "garbage")
    segment.add_segment(0x705D0, "c", "stage2/620")
    segment.add_segment(0x70BC0, "c", "stage2/625")
    segment.add_segment(0x70DA8, "garbage")
    segment.add_segment(0x70DB0, "asm", "stage2/630")
    segment.add_segment(0x71394, "garbage")
    segment.add_segment(0x713A0, "asm", "stage2/640")
    segment.add_segment(0x716AC, "garbage")
    segment.add_segment(0x716B0, "c", "stage2/650")
    segment.add_segment(0x72994, "garbage")
    segment.add_segment(0x729A0, "asm", "stage2/660")
    segment.add_segment(0x72B1C, "garbage")
    segment.add_segment(0x72B20, "asm", "stage2/670")
    segment.add_segment(0x735A8, "garbage")
    segment.add_segment(0x735B0, "asm", "stage2/680")
    segment.add_segment(0x74754, "garbage")
    segment.add_segment(0x74760, "asm", "stage2/690")
    segment.add_segment(0x74FA8, "garbage")
    segment.add_segment(0x74FB0, "asm", "stage2/700")
    segment.add_segment(0x753DC, "garbage")
    segment.add_segment(0x753E0, "asm", "stage2/710")
    segment.add_segment(0x758B4, "garbage")
    segment.add_segment(0x758C0, "asm", "stage2/720")
    segment.add_segment(0x76054, "garbage")
    segment.add_segment(0x76060, "cpp", "stage2/730")
    segment.add_segment(0x76144, "garbage")
    segment.add_segment(0x76150, "asm", "stage2/740")
    segment.add_segment(0x76414, "garbage")
    segment.add_segment(0x76420, "asm", "stage2/750")
    segment.add_segment(0x7648C, "garbage")
    segment.add_segment(0x76490, "asm", "stage2/760")
    segment.add_segment(0x7770C, "garbage")
    segment.add_segment(0x77710, "asm", "stage2/770")
    segment.add_segment(0x77C78, "garbage")
    segment.add_segment(0x77C80, "asm", "stage2/780")
    segment.add_segment(0x78384, "garbage")
    segment.add_segment(0x78390, "asm", "stage2/790")
    segment.add_segment(0x792E8, "garbage")
    segment.add_segment(0x792F0, "asm", "stage2/800")
    segment.add_segment(0x79814, "garbage")
    segment.add_segment(0x79820, "asm", "stage2/810")
    segment.add_segment(0x79AB4, "garbage")
    segment.add_segment(0x79AC0, "data", "stage2/010")  # DATA
    segment.add_segment(0x79AC4, "garbage")
    segment.add_segment(0x79AD0, "data", "stage2/030a")
    segment.add_segment(0x79AD4, "garbage")
    segment.add_segment(0x79AE0, "data", "stage2/030b")
    segment.add_segment(0x79AE4, "garbage")
    segment.add_segment(0x79AF0, "data", "stage2/040")
    segment.add_segment(0x79AF4, "garbage")
    segment.add_segment(0x79B00, "data", "stage2/050a")
    segment.add_segment(0x79B04, "garbage")
    segment.add_segment(0x79B10, "data", "stage2/050b")
    segment.add_segment(0x79B14, "garbage")
    segment.add_segment(0x79B20, "data", "stage2/070")
    segment.add_segment(0x79B34, "garbage")
    segment.add_segment(0x79B40, "data", "stage2/070-080")
    segment.add_segment(0x79B68, "garbage")
    segment.add_segment(0x79B70, "data", "stage2/100")
    segment.add_segment(0x79B74, "garbage")
    segment.add_segment(0x79B80, "data", "stage2/180a")
    segment.add_segment(0x79B8C, "garbage")
    segment.add_segment(0x79B90, "data", "stage2/180b")
    segment.add_segment(0x7B044, "garbage")
    segment.add_segment(0x7B050, "data", "stage2/190")
    segment.add_segment(0x7B054, "garbage")
    segment.add_segment(0x7B060, "data", "stage2/210")
    segment.add_segment(0x7B064, "garbage")
    segment.add_segment(0x7B070, "data", "stage2/230")
    segment.add_segment(0x7B074, "garbage")
    segment.add_segment(0x7B080, "data", "stage2/250")
    segment.add_segment(0x7B084, "garbage")
    segment.add_segment(0x7B090, "data", "stage2/260a")
    segment.add_segment(0x7B094, "garbage")
    segment.add_segment(0x7B0A0, "data", "stage2/260b")
    segment.add_segment(0x7B0A4, "garbage")
    segment.add_segment(0x7B0B0, "data", "stage2/280")
    segment.add_segment(0x7B0B4, "garbage")
    segment.add_segment(0x7B0C0, "data", "stage2/290")
    segment.add_segment(0x7B0C4, "garbage")
    segment.add_segment(0x7B0D0, "data", "stage2/300a")
    segment.add_segment(0x7B0D4, "garbage")
    segment.add_segment(0x7B0E0, "data", "stage2/300b")
    segment.add_segment(0x7B0E4, "garbage")
    segment.add_segment(0x7B0F0, "data", "stage2/310")
    segment.add_segment(0x7B0F4, "garbage")
    segment.add_segment(0x7B100, "data", "stage2/320")
    segment.add_segment(0x7B104, "garbage")
    segment.add_segment(0x7B110, "data", "stage2/330")
    segment.add_segment(0x7B114, "garbage")
    segment.add_segment(0x7B120, "data", "stage2/360")
    segment.add_segment(0x7B124, "garbage")
    segment.add_segment(0x7B130, "data", "stage2/380")
    segment.add_segment(0x7B134, "garbage")
    segment.add_segment(0x7B140, "data", "stage2/390")
    segment.add_segment(0x7B144, "garbage")
    segment.add_segment(0x7B150, "data", "stage2/450-460")
    segment.add_segment(0x7D158, "garbage")
    segment.add_segment(0x7D160, "data", "stage2/470")
    segment.add_segment(0x7D164, "garbage")
    segment.add_segment(0x7D170, "data", "stage2/480")
    segment.add_segment(0x7D174, "garbage")
    segment.add_segment(0x7D180, "data", "stage2/490")
    segment.add_segment(0x7D184, "garbage")
    segment.add_segment(0x7D190, "data", "stage2/510")
    segment.add_segment(0x7D194, "garbage")
    segment.add_segment(0x7D1A0, "data", "stage2/520")
    segment.add_segment(0x7D1A4, "garbage")
    segment.add_segment(0x7D1B0, "data", "stage2/550")
    segment.add_segment(0x7D1B4, "garbage")
    segment.add_segment(0x7D1C0, "data", "stage2/570")
    segment.add_segment(0x7D1C4, "garbage")
    segment.add_segment(0x7D1D0, ".data", "stage2/580")
    segment.add_segment(0x7D220, "data", "stage2/590")
    segment.add_segment(0x7D224, "garbage")
    segment.add_segment(0x7D230, "data", "stage2/590-600")
    segment.add_segment(0x7E634, "garbage")
    segment.add_segment(0x7E640, "data", "stage2/610")
    segment.add_segment(0x7E644, "garbage")
    segment.add_segment(0x7E650, "data", "stage2/625")
    segment.add_segment(0x7E654, "garbage")
    segment.add_segment(0x7E660, "data", "stage2/630-640")
    segment.add_segment(0x7E664, "garbage")
    segment.add_segment(0x7E670, "data", "stage2/660")
    segment.add_segment(0x7E674, "garbage")
    segment.add_segment(0x7E680, "data", "stage2/680")
    segment.add_segment(0x7E884, "garbage")
    segment.add_segment(0x7E890, "data", "stage2/700")
    segment.add_segment(0x7E894, "garbage")
    segment.add_segment(0x7E8A0, ".data", "stage2/730")
    segment.add_segment(0x7EAF4, "garbage")
    segment.add_segment(0x7EB00, "data", "stage2/760")
    segment.add_segment(0x7EB48, "garbage")
    segment.add_segment(0x7EB50, "data", "stage2/770")
    segment.add_segment(0x7EB54, "garbage")
    segment.add_segment(0x7EB60, "data", "stage2/780")
    segment.add_segment(0x7EB64, "garbage")
    segment.add_segment(0x7EB70, "data", "stage2/790")
    segment.add_segment(0x7EB74, "garbage")
    segment.add_segment(0x7EB80, "data", "stage2/800")

    segment = config.add_segment(
        0x80B80,
        "code",
        "race",
        vram=2148313024,
        bss_size=2688,
        symbol_name_format="race_$VRAM",
        symbol_name_format_no_rom="race_$VRAM",
        exclusive_ram_id="tertiary",
    )

    # Add subsegments to race segment
    segment.add_segment(0x80B80, "rdata", "race/0x80B80")
    segment.add_segment(0x80B84, "garbage")
    segment.add_segment(0x80B90, "rdata", "race/010")
    segment.add_segment(0x80BC8, "garbage")
    segment.add_segment(0x80BD0, "rdata", "race/020")
    segment.add_segment(0x80BE8, "garbage")
    segment.add_segment(0x80BF0, "rdata", "race/025")  # SPLIT
    segment.add_segment(0x80C30, "rdata", "race/030")  # 800CA870
    segment.add_segment(0x80C48, "garbage")
    segment.add_segment(0x80C50, "rdata", "race/035")
    segment.add_segment(0x80D68, "garbage")
    segment.add_segment(0x80D70, "rdata", "race/040")  # 800CA9B0
    segment.add_segment(0x80DB0, "rdata", "race/050")  # 800CA9F0
    segment.add_segment(0x80DF0, "rdata", "race/060")  # 800CAA30
    segment.add_segment(0x80E08, "garbage")
    segment.add_segment(0x80E10, "rdata", "race/070")  # 800CAA50
    segment.add_segment(0x80E90, "rdata", "race/080")  # 800CAAD0
    segment.add_segment(0x80ED0, "rdata", "race/090")  # 800CAB10
    segment.add_segment(0x80F18, "garbage")
    segment.add_segment(0x80F20, "rdata", "race/100a")
    segment.add_segment(0x814D8, "garbage")
    segment.add_segment(0x814E0, "rdata", "race/100b")  # 800CB120
    segment.add_segment(0x81520, "rdata", "race/110")  # 800CB160
    segment.add_segment(0x81560, "rdata", "race/120")  # 800CB1A0
    segment.add_segment(0x815A0, "rdata", "race/130")  # 800CB1E0
    segment.add_segment(0x815F0, "rdata", "race/140")  # 800CB230
    segment.add_segment(0x81660, "rdata", "race/150")  # 800CB2A0
    segment.add_segment(0x81690, "rdata", "race/154")  # 800CB2D0
    segment.add_segment(0x816D8, "garbage")
    segment.add_segment(0x816E0, "rdata", "race/157")  # 800CB320
    segment.add_segment(0x81720, "rdata", "race/160")  # 800CB360
    segment.add_segment(0x81738, "garbage")
    segment.add_segment(0x81740, "rdata", "race/170")  # 800CB380
    segment.add_segment(0x81800, "rdata", "race/180")  # 800CB440
    segment.add_segment(0x81918, "garbage")
    segment.add_segment(0x81920, "rdata", "race/190")  # 800CB560
    segment.add_segment(0x81960, "rdata", "race/200")  # 800CB5A0
    segment.add_segment(0x81A30, "rdata", "race/210")  # 800CB670
    segment.add_segment(0x81B10, "rdata", "race/220")  # 800CB750
    segment.add_segment(0x81BF0, "rdata", "race/230")  # 800CB830
    segment.add_segment(0x81CC0, "rdata", "race/240")  # 800CB900
    segment.add_segment(0x81CD8, "garbage")
    segment.add_segment(0x81CE0, "rdata", "race/250")
    segment.add_segment(0x81CE1, "garbage")
    segment.add_segment(0x81CF0, "rdata", "race/260")
    segment.add_segment(0x81D1C, "garbage")
    segment.add_segment(0x81D20, "rdata", "race/265")
    segment.add_segment(0x81D7C, "garbage")
    segment.add_segment(0x81D80, "rdata", "race/270")
    segment.add_segment(0x81FB8, "garbage")
    segment.add_segment(0x81FC0, "rdata", "race/275")  # Hazard rodata
    segment.add_segment(0x82028, "garbage")
    segment.add_segment(0x82030, "rdata", "race/280")
    segment.add_segment(0x82178, "garbage")
    segment.add_segment(0x82180, "rdata", "race/290")  # 800CBDC0
    segment.add_segment(0x82200, "rdata", "race/300")  # 800CBE40
    segment.add_segment(0x82280, "rdata", "race/310")  # 800cbec0
    segment.add_segment(0x822F8, "garbage")
    segment.add_segment(0x82300, "rdata", "race/320")  # maybe split
    segment.add_segment(0x824E8, "garbage")
    segment.add_segment(0x824F0, "rdata", "race/325")  # 800CC130
    segment.add_segment(0x825B0, "rdata", "race/330")  # 800cc1f0
    segment.add_segment(0x826A0, "rdata", "race/340")  # 800CC2E0
    segment.add_segment(0x82728, "garbage")
    segment.add_segment(0x82730, "rdata", "race/350")
    segment.add_segment(0x827A0, "rdata", "race/360")
    segment.add_segment(0x82810, "rdata", "race/370")
    segment.add_segment(0x828B8, "garbage")
    segment.add_segment(0x828C0, "rdata", "race/380")  # 800CC500
    segment.add_segment(0x82970, "rdata", "race/390")  # 800CC5B0
    segment.add_segment(0x82A28, "garbage")
    segment.add_segment(0x82A30, "rdata", "race/400")  # 800CC670
    segment.add_segment(0x82AD0, "rdata", "race/410")  # 800CC710
    segment.add_segment(0x82BD0, "rdata", "race/420")  # 800cc810
    segment.add_segment(0x82C80, "rdata", "race/430")  # 800cc8c0
    segment.add_segment(0x82D00, "rdata", "race/440")  # 800CC940
    segment.add_segment(0x82DF8, "garbage")
    segment.add_segment(0x82E00, "rdata", "race/450")
    segment.add_segment(0x82E90, "rdata", "race/460")
    segment.add_segment(0x82E94, "garbage")
    segment.add_segment(0x82EA0, "rdata", "race/470")
    segment.add_segment(0x82F68, "garbage")
    segment.add_segment(0x82F70, "rdata", "race/480")
    segment.add_segment(0x82FFC, "garbage")
    segment.add_segment(0x83000, "rdata", "race/490")
    segment.add_segment(0x830B8, "garbage")
    segment.add_segment(0x830C0, "rdata", "race/500")
    segment.add_segment(0x830D0, "rdata", "race/510")
    segment.add_segment(0x831E8, "garbage")
    segment.add_segment(0x831F0, "rdata", "race/520")
    segment.add_segment(0x83280, "rdata", "race/530")
    segment.add_segment(0x833BC, "garbage")
    segment.add_segment(0x833C0, "rdata", "race/540")
    segment.add_segment(0x833D4, "garbage")
    segment.add_segment(0x833E0, "rdata", "race/550")
    segment.add_segment(0x837C8, "garbage")
    segment.add_segment(0x837D0, "rdata", "race/560a")  # main
    segment.add_segment(0x837EA, "garbage")
    segment.add_segment(0x837F0, "rdata", "race/560b")
    segment.add_segment(0x838C8, "garbage")
    segment.add_segment(0x838D0, "rdata", "race/560c")
    segment.add_segment(0x83908, "garbage")
    segment.add_segment(0x83910, "rdata", "race/570a")
    segment.add_segment(0x83948, "garbage")
    segment.add_segment(0x83950, "rdata", "race/570b")
    segment.add_segment(0x839AC, "garbage")
    segment.add_segment(0x839B0, "rdata", "race/580")
    segment.add_segment(0x83A28, "garbage")
    segment.add_segment(0x83A30, "rdata", "race/590")
    segment.add_segment(0x83AC8, "garbage")
    segment.add_segment(0x83AD0, "rdata", "race/600")
    segment.add_segment(0x83E7C, "garbage")
    segment.add_segment(0x83E80, "rdata", "race/610")
    segment.add_segment(0x84050, "rdata", "race/620")
    segment.add_segment(0x84064, "garbage")
    segment.add_segment(0x84070, "rdata", "race/630")
    segment.add_segment(0x840A8, "garbage")
    segment.add_segment(0x840B0, "rdata", "race/640")
    segment.add_segment(0x841C8, "garbage")
    segment.add_segment(0x841D0, "rdata", "race/650")
    segment.add_segment(0x84208, "garbage")
    segment.add_segment(0x84210, "rdata", "race/660a")
    segment.add_segment(0x842E8, "garbage")
    segment.add_segment(0x842F0, "rdata", "race/660b")
    segment.add_segment(0x84318, "garbage")
    segment.add_segment(0x84320, "rdata", "race/690")
    segment.add_segment(0x8436C, "garbage")
    segment.add_segment(0x84370, "rdata", "race/700")
    segment.add_segment(0x84440, "rdata", "race/720")
    segment.add_segment(0x84528, "garbage")
    segment.add_segment(0x84530, "rdata", "race/730")  # maybe split
    segment.add_segment(0x8488C, "garbage")
    segment.add_segment(0x84890, "rdata", "race/740")
    segment.add_segment(0x848D8, "garbage")
    segment.add_segment(0x848E0, "rdata", "race/750")
    segment.add_segment(0x848E8, "garbage")
    segment.add_segment(0x848F0, "rdata", "race/760")
    segment.add_segment(0x84910, "rdata", "race/770")
    segment.add_segment(0x849D8, "garbage")
    segment.add_segment(0x849E0, "rdata", "race/780")  # 800CE620
    segment.add_segment(0x84A60, "rdata", "race/790")  # 800CE6A0
    segment.add_segment(0x84B00, "rdata", "race/800")  # 800CE740
    segment.add_segment(0x84B40, "rdata", "race/810")  # 800CE780
    segment.add_segment(0x84BA8, "garbage")
    segment.add_segment(0x84BB0, "rdata", "race/820")  # 800CE7F0
    segment.add_segment(0x84C80, "rdata", "race/830")  # 800ce8c0
    segment.add_segment(0x84DC4, "garbage")
    segment.add_segment(0x84DD0, "rdata", "race/835")
    segment.add_segment(0x84E80, "rdata", "race/840")
    segment.add_segment(0x84ED8, "garbage")
    segment.add_segment(0x84EE0, "rdata", "race/850")
    segment.add_segment(0x84FA8, "garbage")
    segment.add_segment(0x84FB0, "rdata", "race/860")  # 800CEBF0
    segment.add_segment(0x85040, "rdata", "race/870")  # 800CEC80
    segment.add_segment(0x85090, "rdata", "race/880")  # 800cecd0
    segment.add_segment(0x85300, "rdata", "race/890")  # 800cef40
    segment.add_segment(0x85360, "rdata", "race/910")  # 800CEFA0
    segment.add_segment(0x85420, "rdata", "race/920")  # 800cf060
    segment.add_segment(0x85498, "garbage")
    segment.add_segment(0x854A0, "rdata", "race/930")
    segment.add_segment(0x85588, "garbage")
    segment.add_segment(0x85590, "rdata", "race/940")
    segment.add_segment(0x85640, "rdata", "race/950")
    segment.add_segment(0x8573C, "garbage")
    segment.add_segment(0x85740, "rdata", "race/960")
    segment.add_segment(0x85754, "garbage")

    # Ctors
    segment.add_segment(0x85760, "ctors", "race/640.ctors")
    segment.add_segment(0x85764, "garbage")
    segment.add_segment(0x85770, "ctors", "race/660.ctors")
    segment.add_segment(0x85774, "garbage")
    segment.add_segment(0x85780, "ctors", "race/710.ctors")
    segment.add_segment(0x85784, "garbage")
    segment.add_segment(0x85790, "ctors", "race/880.ctors")
    segment.add_segment(0x85794, "garbage")

    # Dtors
    segment.add_segment(0x857A0, "dtors", "race/660.dtors")
    segment.add_segment(0x857A4, "garbage")
    segment.add_segment(0x857B0, "dtors", "race/710.dtors")
    segment.add_segment(0x857B4, "garbage")
    segment.add_segment(0x857C0, "asm", "race/010")
    segment.add_segment(0x870AC, "garbage")
    segment.add_segment(0x870B0, "asm", "race/020")  # SPLIT
    segment.add_segment(0x875A0, "asm", "race/025")  # SPLIT
    segment.add_segment(0x88524, "garbage")
    segment.add_segment(0x88530, "asm", "race/030")  # SPLIT
    segment.add_segment(0x88A90, "asm", "race/035")  # SPLIT
    segment.add_segment(0x8A5D8, "garbage")
    segment.add_segment(0x8A5E0, "asm", "race/040")
    segment.add_segment(0x8BC4C, "garbage")
    segment.add_segment(0x8BC50, "asm", "race/050")
    segment.add_segment(0x8BF5C, "garbage")
    segment.add_segment(0x8BF60, "asm", "race/060")
    segment.add_segment(0x8C38C, "garbage")
    segment.add_segment(0x8C390, "asm", "race/070")
    segment.add_segment(0x8C864, "garbage")
    segment.add_segment(0x8C870, "asm", "race/080")
    segment.add_segment(0x8CC9C, "garbage")
    segment.add_segment(0x8CCA0, "asm", "race/090")
    segment.add_segment(0x8D2EC, "garbage")
    segment.add_segment(0x8D2F0, "asm", "race/100")  # split
    segment.add_segment(0x92AA4, "garbage")
    segment.add_segment(0x92AB0, "asm", "race/110")
    segment.add_segment(0x92E34, "garbage")
    segment.add_segment(0x92E40, "asm", "race/120")
    segment.add_segment(0x93364, "garbage")
    segment.add_segment(0x93370, "asm", "race/130")
    segment.add_segment(0x93638, "garbage")
    segment.add_segment(0x93640, "asm", "race/140")
    segment.add_segment(0x93DDC, "garbage")
    segment.add_segment(0x93DE0, "asm", "race/150")  # split
    segment.add_segment(0x9430C, "garbage")
    segment.add_segment(0x94310, "asm", "race/154")
    segment.add_segment(0x94A6C, "garbage")
    segment.add_segment(0x94A70, "asm", "race/157")
    segment.add_segment(0x94CA8, "garbage")
    segment.add_segment(0x94CB0, "asm", "race/160")
    segment.add_segment(0x951FC, "garbage")
    segment.add_segment(0x95200, "asm", "race/170")
    segment.add_segment(0x95734, "garbage")
    segment.add_segment(0x95740, "asm", "race/180")  # split
    segment.add_segment(0x960B4, "garbage")
    segment.add_segment(0x960C0, "asm", "race/190")
    segment.add_segment(0x96444, "garbage")
    segment.add_segment(0x96450, "asm", "race/200")
    segment.add_segment(0x96658, "garbage")
    segment.add_segment(0x96660, "asm", "race/210")
    segment.add_segment(0x98084, "garbage")
    segment.add_segment(0x98090, "asm", "race/220")
    segment.add_segment(0x99AEC, "garbage")
    segment.add_segment(0x99AF0, "asm", "race/230")
    segment.add_segment(0x9B148, "garbage")
    segment.add_segment(0x9B150, "asm", "race/240")
    segment.add_segment(0x9B3BC, "garbage")
    segment.add_segment(0x9B3C0, "asm", "race/250")
    segment.add_segment(0x9BA84, "garbage")
    segment.add_segment(0x9BA90, "asm", "race/260")  # SPLIT
    segment.add_segment(0x9CB90, "asm", "race/265")  # SPLIT?
    segment.add_segment(0x9E928, "garbage")
    segment.add_segment(0x9E930, "asm", "race/270")
    segment.add_segment(0x9EA50, "asm", "race/275")
    segment.add_segment(0x9EBEC, "garbage")
    segment.add_segment(0x9EBF0, "asm", "race/280")
    segment.add_segment(0x9FAD8, "garbage")
    segment.add_segment(0x9FAE0, "asm", "race/290")
    segment.add_segment(0x9FD1C, "garbage")
    segment.add_segment(0x9FD20, "asm", "race/300")
    segment.add_segment(0xA0054, "garbage")
    segment.add_segment(0xA0060, "asm", "race/310")
    segment.add_segment(0xA0598, "garbage")
    segment.add_segment(0xA05A0, "asm", "race/320")  # SPLIT
    segment.add_segment(0xA1610, "asm", "race/325")
    segment.add_segment(0xA1ADC, "garbage")
    segment.add_segment(0xA1AE0, "asm", "race/330")
    segment.add_segment(0xA240C, "garbage")
    segment.add_segment(0xA2410, "asm", "race/340")
    segment.add_segment(0xA29C8, "garbage")
    segment.add_segment(0xA29D0, "asm", "race/350")
    segment.add_segment(0xA3188, "garbage")
    segment.add_segment(0xA3190, "asm", "race/360")
    segment.add_segment(0xA37DC, "garbage")
    segment.add_segment(0xA37E0, "asm", "race/370")
    segment.add_segment(0xA400C, "garbage")
    segment.add_segment(0xA4010, "asm", "race/380")
    segment.add_segment(0xA484C, "garbage")
    segment.add_segment(0xA4850, "asm", "race/390")
    segment.add_segment(0xA4EF8, "garbage")
    segment.add_segment(0xA4F00, "asm", "race/400")
    segment.add_segment(0xA55F4, "garbage")
    segment.add_segment(0xA5600, "asm", "race/410")  # SPLIT
    segment.add_segment(0xA6214, "garbage")
    segment.add_segment(0xA6220, "asm", "race/420")
    segment.add_segment(0xA6638, "garbage")
    segment.add_segment(0xA6640, "asm", "race/430")
    segment.add_segment(0xA6B08, "garbage")
    segment.add_segment(0xA6B10, "asm", "race/440")
    segment.add_segment(0xA7CEC, "garbage")
    segment.add_segment(0xA7CF0, "asm", "race/450")
    segment.add_segment(0xA8178, "garbage")
    segment.add_segment(0xA8180, "asm", "race/460")
    segment.add_segment(0xA83D4, "garbage")
    segment.add_segment(0xA83E0, "asm", "race/470")
    segment.add_segment(0xA9078, "garbage")
    segment.add_segment(0xA9080, "asm", "race/480")
    segment.add_segment(0xA9FC8, "garbage")
    segment.add_segment(0xA9FD0, "asm", "race/490")
    segment.add_segment(0xAAE98, "garbage")
    segment.add_segment(0xAAEA0, "asm", "race/500")
    segment.add_segment(0xAB448, "garbage")
    segment.add_segment(0xAB450, "asm", "race/510")
    segment.add_segment(0xACB84, "garbage")
    segment.add_segment(0xACB90, "asm", "race/520")
    segment.add_segment(0xAD868, "garbage")
    segment.add_segment(0xAD870, "asm", "race/530")
    segment.add_segment(0xB164C, "garbage")
    segment.add_segment(0xB1650, "asm", "race/540")
    segment.add_segment(0xB2174, "garbage")
    segment.add_segment(0xB2180, "asm", "race/550")  # split?
    segment.add_segment(0xB6C48, "garbage")
    segment.add_segment(0xB6C50, "asm", "race/560a")
    segment.add_segment(0xB7100, "asm", "race/560b")
    segment.add_segment(0xB76F0, "asm", "race/560c")
    segment.add_segment(0xB7A6C, "garbage")
    segment.add_segment(0xB7A70, "asm", "race/570")
    segment.add_segment(0xB8A54, "garbage")
    segment.add_segment(0xB8A60, "asm", "race/580")
    segment.add_segment(0xB903C, "garbage")
    segment.add_segment(0xB9040, "asm", "race/590")
    segment.add_segment(0xBA048, "garbage")
    segment.add_segment(0xBA050, "asm", "race/600")
    segment.add_segment(0xC03BC, "garbage")
    segment.add_segment(0xC03C0, "asm", "race/610")
    segment.add_segment(0xC4EE4, "garbage")
    segment.add_segment(0xC4EF0, "asm", "race/620")
    segment.add_segment(0xC521C, "garbage")
    segment.add_segment(0xC5220, "asm", "race/630")
    segment.add_segment(0xC58A8, "garbage")
    segment.add_segment(0xC58B0, "asm", "race/640")
    segment.add_segment(0xC832C, "garbage")
    segment.add_segment(0xC8330, "asm", "race/650")
    segment.add_segment(0xC895C, "garbage")
    segment.add_segment(0xC8960, "asm", "race/660")  # split
    segment.add_segment(0xCCA5C, "garbage")
    segment.add_segment(0xCCA60, "asm", "race/670")
    segment.add_segment(0xCCF2C, "garbage")
    segment.add_segment(0xCCF30, "asm", "race/680")
    segment.add_segment(0xCD06C, "garbage")
    segment.add_segment(0xCD070, "asm", "race/690")
    segment.add_segment(0xCDCA8, "garbage")
    segment.add_segment(0xCDCB0, "asm", "race/700")
    segment.add_segment(0xCF5F4, "garbage")
    segment.add_segment(0xCF600, "asm", "race/710")
    segment.add_segment(0xCFAF8, "garbage")
    segment.add_segment(0xCFB00, "asm", "race/720")
    segment.add_segment(0xD0998, "garbage")
    segment.add_segment(0xD09A0, "asm", "race/730")  # split
    segment.add_segment(0xD5DB8, "garbage")
    segment.add_segment(0xD5DC0, "asm", "race/740")
    segment.add_segment(0xD5EF4, "garbage")
    segment.add_segment(0xD5F00, "asm", "race/750")
    segment.add_segment(0xD6308, "garbage")
    segment.add_segment(0xD6310, "asm", "race/760")
    segment.add_segment(0xD67AC, "garbage")
    segment.add_segment(0xD67B0, "asm", "race/770")
    segment.add_segment(0xD74F4, "garbage")
    segment.add_segment(0xD7500, "asm", "race/780")
    segment.add_segment(0xD81F8, "garbage")
    segment.add_segment(0xD8200, "asm", "race/790")
    segment.add_segment(0xD8B8C, "garbage")
    segment.add_segment(0xD8B90, "asm", "race/800")
    segment.add_segment(0xD8F88, "garbage")
    segment.add_segment(0xD8F90, "asm", "race/810")
    segment.add_segment(0xD971C, "garbage")
    segment.add_segment(0xD9720, "asm", "race/820")
    segment.add_segment(0xDA688, "garbage")
    segment.add_segment(0xDA690, "asm", "race/830")
    segment.add_segment(0xDBAE0, "asm", "race/835")
    segment.add_segment(0xDCB78, "garbage")
    segment.add_segment(0xDCB80, "asm", "race/840")
    segment.add_segment(0xDCDA4, "garbage")
    segment.add_segment(0xDCDB0, "asm", "race/850")
    segment.add_segment(0xDDC8C, "garbage")
    segment.add_segment(0xDDC90, "asm", "race/860")
    segment.add_segment(0xDE3B4, "garbage")
    segment.add_segment(0xDE3C0, "asm", "race/870")
    segment.add_segment(0xDE7F8, "garbage")
    segment.add_segment(0xDE800, "asm", "race/880")
    segment.add_segment(0xE3ACC, "garbage")
    segment.add_segment(0xE3AD0, "asm", "race/890")
    segment.add_segment(0xE3BB4, "garbage")
    segment.add_segment(0xE3BC0, "asm", "race/900")
    segment.add_segment(0xE3C48, "garbage")
    segment.add_segment(0xE3C50, "asm", "race/910")
    segment.add_segment(0xE427C, "garbage")
    segment.add_segment(0xE4280, "asm", "race/920")
    segment.add_segment(0xE4C44, "garbage")
    segment.add_segment(0xE4C50, "asm", "race/930")
    segment.add_segment(0xE5D5C, "garbage")
    segment.add_segment(0xE5D60, "asm", "race/940")
    segment.add_segment(0xE6D24, "garbage")
    segment.add_segment(0xE6D30, "asm", "race/950")
    segment.add_segment(0xE822C, "garbage")
    segment.add_segment(0xE8230, "asm", "race/960")

    # .data
    segment.add_segment(0xE8430, "data", "race/030")
    segment.add_segment(0xE8434, "garbage")
    segment.add_segment(0xE8440, "data", "race/035")
    segment.add_segment(0xE8444, "garbage")
    segment.add_segment(0xE8450, "data", "race/100")
    segment.add_segment(0xE8454, "garbage")
    segment.add_segment(0xE8460, "data", "race/170")
    segment.add_segment(0xE8464, "garbage")
    segment.add_segment(0xE8470, "data", "race/180")
    segment.add_segment(0xE8474, "garbage")
    segment.add_segment(0xE8480, "data", "race/210")
    segment.add_segment(0xE8484, "garbage")
    segment.add_segment(0xE8490, "data", "race/0xE8490")  # 210 or 220
    segment.add_segment(0xE84A8, "garbage")
    segment.add_segment(0xE84B0, "data", "race/220")
    segment.add_segment(0xE84B4, "garbage")
    segment.add_segment(0xE84C0, "data", "race/230")
    segment.add_segment(0xE84EC, "garbage")
    segment.add_segment(0xE84F0, "data", "race/260")
    segment.add_segment(0xE84F4, "garbage")
    segment.add_segment(0xE8500, "data", "race/280")
    segment.add_segment(0xE8504, "garbage")
    segment.add_segment(0xE8510, "data", "race/360")
    segment.add_segment(0xE8514, "garbage")
    segment.add_segment(0xE8520, "data", "race/370")
    segment.add_segment(0xE8524, "garbage")
    segment.add_segment(0xE8530, "data", "race/400")
    segment.add_segment(0xE8554, "garbage")
    segment.add_segment(0xE8560, "data", "race/440")
    segment.add_segment(0xE8564, "garbage")
    segment.add_segment(0xE8570, "data", "race/470")
    segment.add_segment(0xE8574, "garbage")
    segment.add_segment(0xE8580, "data", "race/510")
    segment.add_segment(0xE8584, "garbage")
    segment.add_segment(0xE8590, "data", "race/530")
    segment.add_segment(0xE8598, "garbage")
    segment.add_segment(0xE85A0, "data", "race/560a")
    segment.add_segment(0xE85A8, "garbage")
    segment.add_segment(0xE85B0, "data", "race/560c")
    segment.add_segment(0xE85B4, "garbage")
    segment.add_segment(0xE85C0, "data", "race/600")
    segment.add_segment(0xE85FE, "garbage")
    segment.add_segment(0xE8600, "data", "race/640")
    segment.add_segment(0xE8624, "garbage")
    segment.add_segment(0xE8630, "data", "race/730")
    segment.add_segment(0xE8828, "garbage")
    segment.add_segment(0xE8830, "data", "race/770")
    segment.add_segment(0xE883C, "garbage")
    segment.add_segment(0xE8840, "data", "race/810")
    segment.add_segment(0xE8844, "garbage")
    segment.add_segment(0xE8850, "data", "race/820")
    segment.add_segment(0xE885C, "garbage")
    segment.add_segment(0xE8860, "data", "race/850")
    segment.add_segment(0xE886C, "garbage")
    segment.add_segment(0xE8870, "data", "race/880")
    segment.add_segment(0xE8874, "garbage")
    segment.add_segment(0xE8880, "data", "race/910")
    segment.add_segment(0xE8884, "garbage")
    segment.add_segment(0xE8890, "data", "race/950")

    segment = config.add_segment(
        0xE88B0,
        "code",
        "menu",
        vram=2148313024,
        bss_size=13376,
        symbol_name_format="menu_$VRAM",
        symbol_name_format_no_rom="menu_$VRAM",
        exclusive_ram_id="tertiary",
    )

    # Add subsegments to menu segment
    segment.add_segment(0xE88B0, "rdata", "menu/0")
    segment.add_segment(0xE88B4, "garbage")
    segment.add_segment(0xE88C0, "rdata", "menu/010")
    segment.add_segment(0xE88D4, "garbage")
    segment.add_segment(0xE88E0, "rdata", "menu/020")
    segment.add_segment(0xE89DD, "garbage")
    segment.add_segment(0xE89E0, "rdata", "menu/020-030")
    segment.add_segment(0xE8B04, "garbage")
    segment.add_segment(0xE8B10, "rdata", "menu/050")  ###
    segment.add_segment(0xE8B78, "garbage")
    segment.add_segment(0xE8B80, "rdata", "menu/050-060")
    segment.add_segment(0xE8C71, "garbage")
    segment.add_segment(0xE8C80, "rdata", "menu/080-150")
    segment.add_segment(0xE9558, "garbage")
    segment.add_segment(0xE9560, "rdata", "menu/160-180")
    segment.add_segment(0xE9648, "garbage")
    segment.add_segment(0xE9650, "rdata", "menu/180b")
    segment.add_segment(0xE9688, "garbage")
    segment.add_segment(0xE9690, "rdata", "menu/180c")
    segment.add_segment(0xE9728, "garbage")
    segment.add_segment(0xE9730, "rdata", "menu/190-210")
    segment.add_segment(0xE9854, "garbage")
    segment.add_segment(0xE9860, "rdata", "menu/220")
    segment.add_segment(0xE9958, "garbage")
    segment.add_segment(0xE9960, "rdata", "menu/230")
    segment.add_segment(0xE9961, "garbage")
    segment.add_segment(0xE9970, "rdata", "menu/240a")
    segment.add_segment(0xE9A08, "garbage")
    segment.add_segment(0xE9A10, "rdata", "menu/240b")
    segment.add_segment(0xE9A14, "garbage")
    segment.add_segment(0xE9A20, "rdata", "menu/260")
    segment.add_segment(0xE9AF8, "garbage")
    segment.add_segment(0xE9B00, "rdata", "menu/270-290")
    segment.add_segment(0xE9E48, "garbage")
    segment.add_segment(0xE9E50, "rdata", "menu/300")
    segment.add_segment(0xE9E51, "garbage")
    segment.add_segment(0xE9E60, "rdata", "menu/320-330a")
    segment.add_segment(0xEA05C, "garbage")
    segment.add_segment(0xEA060, "rdata", "menu/330b")
    segment.add_segment(0xEA084, "garbage")
    segment.add_segment(0xEA090, "rdata", "menu/330c-370")
    segment.add_segment(0xEA2E8, "garbage")
    segment.add_segment(0xEA2F0, "rdata", "menu/380-390")
    segment.add_segment(0xEA6B8, "garbage")
    segment.add_segment(0xEA6C0, "rdata", "menu/400")
    segment.add_segment(0xEA7F8, "garbage")
    segment.add_segment(0xEA800, "rdata", "menu/410")
    segment.add_segment(0xEA9C8, "garbage")
    segment.add_segment(0xEA9D0, "rdata", "menu/420-430")
    segment.add_segment(0xEAC78, "garbage")
    segment.add_segment(0xEAC80, "rdata", "menu/440")
    segment.add_segment(0xEADB8, "garbage")
    segment.add_segment(0xEADC0, "rdata", "menu/450")
    segment.add_segment(0xEAF88, "garbage")
    segment.add_segment(0xEAF90, "rdata", "menu/450-460")
    segment.add_segment(0xEB268, "garbage")
    segment.add_segment(0xEB270, "rdata", "menu/470")
    segment.add_segment(0xEB2A8, "garbage")
    segment.add_segment(0xEB2B0, "rdata", "menu/480")
    segment.add_segment(0xEB408, "garbage")
    segment.add_segment(0xEB410, "rdata", "menu/490a")
    segment.add_segment(0xEB508, "garbage")
    segment.add_segment(0xEB510, "rdata", "menu/490b")
    segment.add_segment(0xEB511, "garbage")
    segment.add_segment(0xEB520, "rdata", "menu/490c")
    segment.add_segment(0xEB728, "garbage")
    segment.add_segment(0xEB730, "rdata", "menu/490d")
    segment.add_segment(0xEB878, "garbage")
    segment.add_segment(0xEB880, "rdata", "menu/500-520")
    segment.add_segment(0xEBDC8, "garbage")
    segment.add_segment(0xEBDD0, "rdata", "menu/530")
    segment.add_segment(0xEBEB8, "garbage")
    segment.add_segment(0xEBEC0, "rdata", "menu/540")
    segment.add_segment(0xEC0F8, "garbage")
    segment.add_segment(0xEC100, "rdata", "menu/560")
    segment.add_segment(0xEC328, "garbage")
    segment.add_segment(0xEC330, "rdata", "menu/570")
    segment.add_segment(0xEC468, "garbage")
    segment.add_segment(0xEC470, "rdata", "menu/580-590a")
    segment.add_segment(0xEC698, "garbage")
    segment.add_segment(0xEC6A0, "rdata", "menu/590b")
    segment.add_segment(0xEC988, "garbage")
    segment.add_segment(0xEC990, "rdata", "menu/600-610")
    segment.add_segment(0xECBE8, "garbage")
    segment.add_segment(0xECBF0, "rdata", "menu/620")
    segment.add_segment(0xECE68, "garbage")
    segment.add_segment(0xECE70, "rdata", "menu/630a")
    segment.add_segment(0xED168, "garbage")
    segment.add_segment(0xED170, "rdata", "menu/630b-650")
    segment.add_segment(0xED5E0, ".rdata", "menu/660")
    segment.add_segment(0xED730, "rdata", "menu/670")
    segment.add_segment(0xED7E8, "garbage")
    segment.add_segment(0xED7F0, "rdata", "menu/680")
    segment.add_segment(0xED878, "garbage")
    segment.add_segment(0xED880, "rdata", "menu/690")
    segment.add_segment(0xED968, "garbage")
    segment.add_segment(0xED970, "rdata", "menu/700-710")
    segment.add_segment(0xEDB48, "garbage")
    segment.add_segment(0xEDB50, "rdata", "menu/720-730")
    segment.add_segment(0xEDCE8, "garbage")
    segment.add_segment(0xEDCF0, "rdata", "menu/740")
    segment.add_segment(0xEDDF8, "garbage")
    segment.add_segment(0xEDE00, "rdata", "menu/760")
    segment.add_segment(0xEDE88, "garbage")
    segment.add_segment(0xEDE90, "rdata", "menu/770")
    segment.add_segment(0xEDFB8, "garbage")
    segment.add_segment(0xEDFC0, "rdata", "menu/780")
    segment.add_segment(0xEDFCD, "garbage")
    segment.add_segment(0xEDFD0, "rdata", "menu/790-810")
    segment.add_segment(0xEE268, "garbage")
    segment.add_segment(0xEE270, "rdata", "menu/820")
    segment.add_segment(0xEE5A8, "garbage")
    segment.add_segment(0xEE5B0, "rdata", "menu/830-840")
    segment.add_segment(0xEE828, "garbage")
    segment.add_segment(0xEE830, "rdata", "menu/840b")  # ???
    segment.add_segment(0xEE8F8, "garbage")
    segment.add_segment(0xEE900, "rdata", "menu/850-860")
    segment.add_segment(0xEEB68, "garbage")
    segment.add_segment(0xEEB70, "rdata", "menu/870")
    segment.add_segment(0xEEBF8, "garbage")
    segment.add_segment(0xEEC00, "rdata", "menu/880")
    segment.add_segment(0xEEC88, "garbage")
    segment.add_segment(0xEEC90, "rdata", "menu/890a")
    segment.add_segment(0xEED18, "garbage")
    segment.add_segment(0xEED20, "rdata", "menu/890b")
    segment.add_segment(0xEEDA8, "garbage")
    segment.add_segment(0xEEDB0, "rdata", "menu/900")
    segment.add_segment(0xEEE48, "garbage")
    segment.add_segment(0xEEE50, "rdata", "menu/910a")
    segment.add_segment(0xEEEE8, "garbage")
    segment.add_segment(0xEEEF0, "rdata", "menu/910b")
    segment.add_segment(0xEF0B8, "garbage")
    segment.add_segment(0xEF0C0, "rdata", "menu/920-940")
    segment.add_segment(0xEF388, "garbage")
    segment.add_segment(0xEF390, "rdata", "menu/950")
    segment.add_segment(0xEF4A8, "garbage")
    segment.add_segment(0xEF4B0, "rdata", "menu/960a")
    segment.add_segment(0xEF508, "garbage")
    segment.add_segment(0xEF510, "rdata", "menu/960b")
    segment.add_segment(0xEF5A8, "garbage")
    segment.add_segment(0xEF5B0, "rdata", "menu/970-980")
    segment.add_segment(0xEF6B8, "garbage")
    segment.add_segment(0xEF6C0, "rdata", "menu/980")
    segment.add_segment(0xEF758, "garbage")

    # .text
    segment.add_segment(0xEF760, "asm", "menu/010")
    segment.add_segment(0xF2708, "garbage")
    segment.add_segment(0xF2710, "asm", "menu/020")  # split
    segment.add_segment(0xF52BC, "garbage")
    segment.add_segment(0xF52C0, "asm", "menu/030")
    segment.add_segment(0xF594C, "garbage")
    segment.add_segment(0xF5950, "asm", "menu/040")
    segment.add_segment(0xF66FC, "garbage")
    segment.add_segment(0xF6700, "asm", "menu/050")  # split
    segment.add_segment(0xFACD4, "garbage")
    segment.add_segment(0xFACE0, "asm", "menu/060")
    segment.add_segment(0xFC32C, "garbage")
    segment.add_segment(0xFC330, "asm", "menu/070")
    segment.add_segment(0xFD3C4, "garbage")
    segment.add_segment(0xFD3D0, "asm", "menu/080")
    segment.add_segment(0xFE578, "garbage")
    segment.add_segment(0xFE580, "asm", "menu/090")
    segment.add_segment(0xFF6CC, "garbage")
    segment.add_segment(0xFF6D0, "asm", "menu/100")
    segment.add_segment(0x104168, "garbage")
    segment.add_segment(0x104170, "asm", "menu/110")
    segment.add_segment(0x10458C, "garbage")
    segment.add_segment(0x104590, "asm", "menu/120")
    segment.add_segment(0x105164, "garbage")
    segment.add_segment(0x105170, "asm", "menu/130")
    segment.add_segment(0x1054B8, "garbage")
    segment.add_segment(0x1054C0, "asm", "menu/140")
    segment.add_segment(0x105898, "garbage")
    segment.add_segment(0x1058A0, "asm", "menu/150")
    segment.add_segment(0x1062A4, "garbage")
    segment.add_segment(0x1062B0, "asm", "menu/160")
    segment.add_segment(0x10661C, "garbage")
    segment.add_segment(0x106620, "asm", "menu/170")
    segment.add_segment(0x1069F8, "garbage")
    segment.add_segment(0x106A00, "asm", "menu/180")  # split
    segment.add_segment(0x108608, "garbage")
    segment.add_segment(0x108610, "asm", "menu/190")
    segment.add_segment(0x10914C, "garbage")
    segment.add_segment(0x109150, "asm", "menu/200")
    segment.add_segment(0x1094AC, "garbage")
    segment.add_segment(0x1094B0, "asm", "menu/210")
    segment.add_segment(0x109708, "garbage")
    segment.add_segment(0x109710, "asm", "menu/220")
    segment.add_segment(0x10A334, "garbage")
    segment.add_segment(0x10A340, "asm", "menu/230")
    segment.add_segment(0x10A54C, "garbage")
    segment.add_segment(0x10A550, "asm", "menu/240")  # split
    segment.add_segment(0x10AFF8, "garbage")
    segment.add_segment(0x10B000, "asm", "menu/250")
    segment.add_segment(0x10B694, "garbage")
    segment.add_segment(0x10B6A0, "asm", "menu/260")
    segment.add_segment(0x10B9D4, "garbage")
    segment.add_segment(0x10B9E0, "asm", "menu/270")
    segment.add_segment(0x10C0CC, "garbage")
    segment.add_segment(0x10C0D0, "asm", "menu/280")
    segment.add_segment(0x10C6A4, "garbage")
    segment.add_segment(0x10C6B0, "asm", "menu/290")
    segment.add_segment(0x10CA6C, "garbage")
    segment.add_segment(0x10CA70, "asm", "menu/300")
    segment.add_segment(0x10CEF4, "garbage")
    segment.add_segment(0x10CF00, "asm", "menu/310")
    segment.add_segment(0x10D678, "garbage")
    segment.add_segment(0x10D680, "asm", "menu/320")
    segment.add_segment(0x1101DC, "garbage")
    segment.add_segment(0x1101E0, "asm", "menu/330")  # split
    segment.add_segment(0x111848, "garbage")
    segment.add_segment(0x111850, "asm", "menu/340")
    segment.add_segment(0x11223C, "garbage")
    segment.add_segment(0x112240, "asm", "menu/350")
    segment.add_segment(0x11282C, "garbage")
    segment.add_segment(0x112830, "asm", "menu/360")  # probably split
    segment.add_segment(0x1131EC, "garbage")
    segment.add_segment(0x1131F0, "asm", "menu/370")
    segment.add_segment(0x1134D8, "garbage")
    segment.add_segment(0x1134E0, "asm", "menu/380")
    segment.add_segment(0x11478C, "garbage")
    segment.add_segment(0x114790, "asm", "menu/390")
    segment.add_segment(0x1154A4, "garbage")
    segment.add_segment(0x1154B0, "asm", "menu/400")
    segment.add_segment(0x1176C8, "garbage")
    segment.add_segment(0x1176D0, "asm", "menu/410")
    segment.add_segment(0x117B9C, "garbage")
    segment.add_segment(0x117BA0, "asm", "menu/420")
    segment.add_segment(0x117EA4, "garbage")
    segment.add_segment(0x117EB0, "asm", "menu/430")
    segment.add_segment(0x118784, "garbage")
    segment.add_segment(0x118790, "asm", "menu/440")
    segment.add_segment(0x119348, "garbage")
    segment.add_segment(0x119350, "asm", "menu/450")  # split
    segment.add_segment(0x11B738, "garbage")
    segment.add_segment(0x11B740, "asm", "menu/460")
    segment.add_segment(0x11CB9C, "garbage")
    segment.add_segment(0x11CBA0, "asm", "menu/470")
    segment.add_segment(0x11D13C, "garbage")
    segment.add_segment(0x11D140, "asm", "menu/480")
    segment.add_segment(0x11E118, "garbage")
    segment.add_segment(0x11E120, "asm", "menu/490a")
    segment.add_segment(0x11E650, "asm", "menu/490b")
    segment.add_segment(0x11E850, "asm", "menu/490c")
    segment.add_segment(0x11F780, "asm", "menu/490d")
    segment.add_segment(0x11FD08, "garbage")
    segment.add_segment(0x11FD10, "asm", "menu/500")
    segment.add_segment(0x11FFFC, "garbage")
    segment.add_segment(0x120000, "asm", "menu/510")
    segment.add_segment(0x121958, "garbage")
    segment.add_segment(0x121960, "asm", "menu/520")
    segment.add_segment(0x121DC4, "garbage")
    segment.add_segment(0x121DD0, "asm", "menu/530")
    segment.add_segment(0x122544, "garbage")
    segment.add_segment(0x122550, "asm", "menu/540")
    segment.add_segment(0x123858, "garbage")
    segment.add_segment(0x123860, "asm", "menu/550")
    segment.add_segment(0x1246EC, "garbage")
    segment.add_segment(0x1246F0, "asm", "menu/560")
    segment.add_segment(0x124A6C, "garbage")
    segment.add_segment(0x124A70, "asm", "menu/570")
    segment.add_segment(0x1252CC, "garbage")
    segment.add_segment(0x1252D0, "asm", "menu/580")
    segment.add_segment(0x1258FC, "garbage")
    segment.add_segment(0x125900, "asm", "menu/590")  # split
    segment.add_segment(0x12815C, "garbage")
    segment.add_segment(0x128160, "asm", "menu/600")
    segment.add_segment(0x129724, "garbage")
    segment.add_segment(0x129730, "asm", "menu/610")
    segment.add_segment(0x129FAC, "garbage")
    segment.add_segment(0x129FB0, "asm", "menu/620")
    segment.add_segment(0x12B178, "garbage")
    segment.add_segment(0x12B180, "asm", "menu/630")  # split
    segment.add_segment(0x12BC3C, "garbage")
    segment.add_segment(0x12BC40, "asm", "menu/640")
    segment.add_segment(0x12C82C, "garbage")
    segment.add_segment(0x12C830, "asm", "menu/650")
    segment.add_segment(0x12CF88, "garbage")
    segment.add_segment(0x12CF90, "cpp", "menu/660")
    segment.add_segment({"e": 0x12E24C, "u": 0x12E244}[region], "garbage")
    segment.add_segment(0x12E250, "asm", "menu/670")
    segment.add_segment(0x12F174, "garbage")
    segment.add_segment(0x12F180, "asm", "menu/680")
    segment.add_segment(0x12F368, "garbage")
    segment.add_segment(0x12F370, "asm", "menu/690")
    segment.add_segment(0x12F6A4, "garbage")
    segment.add_segment(0x12F6B0, "asm", "menu/700")
    segment.add_segment(0x12FE98, "garbage")
    segment.add_segment(0x12FEA0, "asm", "menu/710")
    segment.add_segment(0x130574, "garbage")
    segment.add_segment(0x130580, "asm", "menu/720")
    segment.add_segment(0x130C6C, "garbage")
    segment.add_segment(0x130C70, "asm", "menu/730")
    segment.add_segment(0x1315CC, "garbage")
    segment.add_segment(0x1315D0, "asm", "menu/740")
    segment.add_segment(0x131DE4, "garbage")
    segment.add_segment(0x131DF0, "asm", "menu/750")
    segment.add_segment(0x132188, "garbage")
    segment.add_segment(0x132190, "asm", "menu/760")
    segment.add_segment(0x132478, "garbage")
    segment.add_segment(0x132480, "asm", "menu/770")
    segment.add_segment(0x132EB8, "garbage")
    segment.add_segment(0x132EC0, "asm", "menu/780")
    segment.add_segment(0x1334F8, "garbage")
    segment.add_segment(0x133500, "asm", "menu/790")
    segment.add_segment(0x133FA8, "garbage")
    segment.add_segment(0x133FB0, "asm", "menu/800")
    segment.add_segment(0x136B68, "garbage")
    segment.add_segment(0x136B70, "asm", "menu/810")
    segment.add_segment(0x136F5C, "garbage")
    segment.add_segment(0x136F60, "asm", "menu/820")
    segment.add_segment(0x13945C, "garbage")
    segment.add_segment(0x139460, "asm", "menu/830")
    segment.add_segment(0x139674, "garbage")
    segment.add_segment(0x139680, "asm", "menu/840")  # split
    segment.add_segment(0x13B714, "garbage")
    segment.add_segment(0x13B720, "asm", "menu/850")
    segment.add_segment(0x13BE34, "garbage")
    segment.add_segment(0x13BE40, "asm", "menu/860")
    segment.add_segment(0x13C414, "garbage")
    segment.add_segment(0x13C420, "asm", "menu/870")
    segment.add_segment(0x13C86C, "garbage")
    segment.add_segment(0x13C870, "asm", "menu/880")
    segment.add_segment(0x13CF7C, "garbage")
    segment.add_segment(0x13CF80, "asm", "menu/890")  # split
    segment.add_segment(0x13D388, "garbage")
    segment.add_segment(0x13D390, "asm", "menu/900")
    segment.add_segment(0x13D84C, "garbage")
    segment.add_segment(0x13D850, "asm", "menu/910a")  # split
    segment.add_segment(0x13DB00, "asm", "menu/910b")
    segment.add_segment(0x13FC9C, "garbage")
    segment.add_segment(0x13FCA0, "asm", "menu/920")
    segment.add_segment(0x14084C, "garbage")
    segment.add_segment(0x140850, "asm", "menu/930")
    segment.add_segment(0x140CDC, "garbage")
    segment.add_segment(0x140CE0, "asm", "menu/940")
    segment.add_segment(0x1423A8, "garbage")
    segment.add_segment(0x1423B0, "asm", "menu/950")
    segment.add_segment(0x143A74, "garbage")
    segment.add_segment(0x143A80, "asm", "menu/960")  # split
    segment.add_segment(0x143D2C, "garbage")
    segment.add_segment(0x143D30, "asm", "menu/970")
    segment.add_segment(0x143FDC, "garbage")
    segment.add_segment(0x143FE0, "asm", "menu/980")  # split

    # data
    segment.add_segment(0x144A40, "data", "menu/144A40")
    segment.add_segment(0x144A48, "garbage")
    segment.add_segment(0x144A50, "data", "menu/144A50")
    segment.add_segment(0x144A58, "garbage")
    segment.add_segment(0x144A60, "data", "menu/020")
    segment.add_segment(0x144A64, "garbage")
    segment.add_segment(0x144A70, "data", "menu/144A70")
    segment.add_segment(0x144A78, "garbage")
    segment.add_segment(0x144A80, "data", "menu/050a")
    segment.add_segment(0x144A8C, "garbage")
    segment.add_segment(0x144A90, "data", "menu/050b")
    segment.add_segment(0x144AA4, "garbage")
    segment.add_segment(0x144AB0, "data", "menu/070")
    segment.add_segment(0x144ABC, "garbage")
    segment.add_segment(0x144AC0, "data", "menu/080")
    segment.add_segment(0x144AC8, "garbage")
    segment.add_segment(0x144AD0, "data", "menu/090")
    segment.add_segment(0x144AD4, "garbage")
    segment.add_segment(0x144AE0, "data", "menu/100")
    segment.add_segment(0x144AE4, "garbage")
    segment.add_segment(0x144AF0, "data", "menu/144AF0")
    segment.add_segment(0x144AF4, "garbage")
    segment.add_segment(0x144B00, "data", "menu/144B00")
    segment.add_segment(0x144B04, "garbage")
    segment.add_segment(0x144B10, "data", "menu/180")
    segment.add_segment(0x144B14, "garbage")
    segment.add_segment(0x144B20, "data", "menu/190")
    segment.add_segment(0x144B24, "garbage")
    segment.add_segment(0x144B30, "data", "menu/210")
    segment.add_segment(0x144B34, "garbage")
    segment.add_segment(0x144B40, "data", "menu/220")
    segment.add_segment(0x144C64, "garbage")
    segment.add_segment(0x144C70, "data", "menu/230")
    segment.add_segment(0x144C74, "garbage")
    segment.add_segment(0x144C80, "data", "menu/240")
    segment.add_segment(0x144C94, "garbage")
    segment.add_segment(0x144CA0, "data", "menu/250")
    segment.add_segment(0x144CB8, "garbage")
    segment.add_segment(0x144CC0, "data", "menu/270")
    segment.add_segment(0x144CC4, "garbage")
    segment.add_segment(0x144CD0, "data", "menu/144CD0")
    segment.add_segment(0x144CDC, "garbage")
    segment.add_segment(0x144CE0, "data", "menu/300")
    segment.add_segment(0x144CE4, "garbage")
    segment.add_segment(0x144CF0, "data", "menu/320")
    segment.add_segment(0x144D18, "garbage")
    segment.add_segment(0x144D20, "data", "menu/330a")
    segment.add_segment(0x144D48, "garbage")
    segment.add_segment(0x144D50, "data", "menu/330b")
    segment.add_segment(0x144D54, "garbage")
    segment.add_segment(0x144D60, "data", "menu/360")
    segment.add_segment(0x144D68, "garbage")
    segment.add_segment(0x144D70, "data", "menu/370")
    segment.add_segment(0x144D74, "garbage")
    segment.add_segment(0x144D80, "data", "menu/144D80")
    segment.add_segment(0x144D88, "garbage")
    segment.add_segment(0x144D90, "data", "menu/144D90")  # 650?
    segment.add_segment(0x144F98, "garbage")
    segment.add_segment(0x144FA0, "data", "menu/144FA0")
    segment.add_segment(0x144FA8, "garbage")
    segment.add_segment(0x144FB0, "data", "menu/144FB0")
    segment.add_segment(0x144FB8, "garbage")
    segment.add_segment(0x144FC0, "data", "menu/144FC0")
    segment.add_segment(0x144FC8, "garbage")
    segment.add_segment(0x144FD0, "data", "menu/144FD0")
    segment.add_segment(0x144FD8, "garbage")
    segment.add_segment(0x144FE0, "data", "menu/440")
    segment.add_segment(0x144FFC, "garbage")
    segment.add_segment(0x145000, "data", "menu/450a")
    segment.add_segment(0x14503C, "garbage")
    segment.add_segment(0x145040, "data", "menu/450b")
    segment.add_segment(0x14504C, "garbage")
    segment.add_segment(0x145050, "data", "menu/460")
    segment.add_segment(0x145078, "garbage")
    segment.add_segment(0x145080, "data", "menu/145080")
    segment.add_segment(0x145088, "garbage")
    segment.add_segment(0x145090, "data", "menu/145090")
    segment.add_segment(0x145094, "garbage")
    segment.add_segment(0x1450A0, "data", "menu/1450A0")
    segment.add_segment(0x1450AC, "garbage")
    segment.add_segment(0x1450B0, "data", "menu/1450B0")
    segment.add_segment(0x1450B8, "garbage")
    segment.add_segment(0x1450C0, "data", "menu/510")
    segment.add_segment(0x1450D4, "garbage")
    segment.add_segment(0x1450E0, "data", "menu/1450E0")
    segment.add_segment(0x1450E8, "garbage")
    segment.add_segment(0x1450F0, "data", "menu/1450F0")
    segment.add_segment(0x1450F8, "garbage")
    segment.add_segment(0x145100, "data", "menu/145100")
    segment.add_segment(0x145108, "garbage")
    segment.add_segment(0x145110, "data", "menu/145110")
    segment.add_segment(0x145118, "garbage")
    segment.add_segment(0x145120, "data", "menu/145120")
    segment.add_segment(0x145128, "garbage")
    segment.add_segment(0x145130, "data", "menu/145130")
    segment.add_segment(0x145138, "garbage")
    segment.add_segment(0x145140, "data", "menu/145140")
    segment.add_segment(0x145148, "garbage")
    segment.add_segment(0x145150, "data", "menu/145150")
    segment.add_segment(0x145158, "garbage")
    segment.add_segment(0x145160, "data", "menu/590")
    segment.add_segment(0x145188, "garbage")
    segment.add_segment(0x145190, "data", "menu/145190")
    segment.add_segment(0x145198, "garbage")
    segment.add_segment(0x1451A0, "data", "menu/1451A0")
    segment.add_segment(0x1451A8, "garbage")
    segment.add_segment(0x1451B0, "data", "menu/1451B0")
    segment.add_segment(0x1451B8, "garbage")
    segment.add_segment(0x1451C0, "data", "menu/1451C0")
    segment.add_segment(0x1451C8, "garbage")
    segment.add_segment(0x1451D0, "data", "menu/630")
    segment.add_segment(0x145208, "garbage")
    segment.add_segment(0x145210, "data", "menu/145210")
    segment.add_segment(0x145218, "garbage")
    segment.add_segment(0x145220, "data", "menu/145220")
    segment.add_segment(0x145228, "garbage")
    segment.add_segment(0x145230, "data", "menu/145230")
    segment.add_segment(0x145238, "garbage")
    segment.add_segment(0x145240, "data", "menu/780")
    segment.add_segment(0x145248, "garbage")
    segment.add_segment(0x145250, "data", "menu/790")
    segment.add_segment(0x145258, "garbage")
    segment.add_segment(0x145260, "data", "menu/145260")
    segment.add_segment(0x145264, "garbage")
    segment.add_segment(0x145270, "data", "menu/145270")
    segment.add_segment(0x145274, "garbage")

    config.add_segment(0x145280, "bin", "ljam")

    config.set_end(0xFFE620)

    return config
