.include "macro.inc"

# assembler directives
.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches
.set gp=64     # allow use of 64-bit general purpose registers

.section .text, "ax"

glabel osViSetSpecialFeatures
/* 20ED0 800202D0 27BDFFE8 */  addiu      $sp, $sp, -0x18
/* 20ED4 800202D4 AFB00010 */  sw         $s0, 0x10($sp)
/* 20ED8 800202D8 AFBF0014 */  sw         $ra, 0x14($sp)
/* 20EDC 800202DC 0C005734 */  jal        func_80015CD0
/* 20EE0 800202E0 00808021 */   addu      $s0, $a0, $zero
/* 20EE4 800202E4 00403021 */  addu       $a2, $v0, $zero
/* 20EE8 800202E8 32020001 */  andi       $v0, $s0, 0x1
/* 20EEC 800202EC 10400007 */  beqz       $v0, .L8002030C
/* 20EF0 800202F0 32020002 */   andi      $v0, $s0, 0x2
/* 20EF4 800202F4 3C038003 */  lui        $v1, %hi(D_80031134)
/* 20EF8 800202F8 8C631134 */  lw         $v1, %lo(D_80031134)($v1)
/* 20EFC 800202FC 8C62000C */  lw         $v0, 0xC($v1)
/* 20F00 80020300 34420008 */  ori        $v0, $v0, 0x8
/* 20F04 80020304 AC62000C */  sw         $v0, 0xC($v1)
/* 20F08 80020308 32020002 */  andi       $v0, $s0, 0x2
.L8002030C:
/* 20F0C 8002030C 10400006 */  beqz       $v0, .L80020328
/* 20F10 80020310 2404FFF7 */   addiu     $a0, $zero, -0x9
/* 20F14 80020314 3C028003 */  lui        $v0, %hi(D_80031134)
/* 20F18 80020318 8C421134 */  lw         $v0, %lo(D_80031134)($v0)
/* 20F1C 8002031C 8C43000C */  lw         $v1, 0xC($v0)
/* 20F20 80020320 00641824 */  and        $v1, $v1, $a0
/* 20F24 80020324 AC43000C */  sw         $v1, 0xC($v0)
.L80020328:
/* 20F28 80020328 32020004 */  andi       $v0, $s0, 0x4
/* 20F2C 8002032C 10400007 */  beqz       $v0, .L8002034C
/* 20F30 80020330 32020008 */   andi      $v0, $s0, 0x8
/* 20F34 80020334 3C038003 */  lui        $v1, %hi(D_80031134)
/* 20F38 80020338 8C631134 */  lw         $v1, %lo(D_80031134)($v1)
/* 20F3C 8002033C 8C62000C */  lw         $v0, 0xC($v1)
/* 20F40 80020340 34420004 */  ori        $v0, $v0, 0x4
/* 20F44 80020344 AC62000C */  sw         $v0, 0xC($v1)
/* 20F48 80020348 32020008 */  andi       $v0, $s0, 0x8
.L8002034C:
/* 20F4C 8002034C 10400006 */  beqz       $v0, .L80020368
/* 20F50 80020350 2404FFFB */   addiu     $a0, $zero, -0x5
/* 20F54 80020354 3C028003 */  lui        $v0, %hi(D_80031134)
/* 20F58 80020358 8C421134 */  lw         $v0, %lo(D_80031134)($v0)
/* 20F5C 8002035C 8C43000C */  lw         $v1, 0xC($v0)
/* 20F60 80020360 00641824 */  and        $v1, $v1, $a0
/* 20F64 80020364 AC43000C */  sw         $v1, 0xC($v0)
.L80020368:
/* 20F68 80020368 32020010 */  andi       $v0, $s0, 0x10
/* 20F6C 8002036C 10400007 */  beqz       $v0, .L8002038C
/* 20F70 80020370 32020020 */   andi      $v0, $s0, 0x20
/* 20F74 80020374 3C038003 */  lui        $v1, %hi(D_80031134)
/* 20F78 80020378 8C631134 */  lw         $v1, %lo(D_80031134)($v1)
/* 20F7C 8002037C 8C62000C */  lw         $v0, 0xC($v1)
/* 20F80 80020380 34420010 */  ori        $v0, $v0, 0x10
/* 20F84 80020384 AC62000C */  sw         $v0, 0xC($v1)
/* 20F88 80020388 32020020 */  andi       $v0, $s0, 0x20
.L8002038C:
/* 20F8C 8002038C 10400006 */  beqz       $v0, .L800203A8
/* 20F90 80020390 2404FFEF */   addiu     $a0, $zero, -0x11
/* 20F94 80020394 3C028003 */  lui        $v0, %hi(D_80031134)
/* 20F98 80020398 8C421134 */  lw         $v0, %lo(D_80031134)($v0)
/* 20F9C 8002039C 8C43000C */  lw         $v1, 0xC($v0)
/* 20FA0 800203A0 00641824 */  and        $v1, $v1, $a0
/* 20FA4 800203A4 AC43000C */  sw         $v1, 0xC($v0)
.L800203A8:
/* 20FA8 800203A8 32020040 */  andi       $v0, $s0, 0x40
/* 20FAC 800203AC 10400008 */  beqz       $v0, .L800203D0
/* 20FB0 800203B0 3C030001 */   lui       $v1, (0x10000 >> 16)
/* 20FB4 800203B4 3C048003 */  lui        $a0, %hi(D_80031134)
/* 20FB8 800203B8 8C841134 */  lw         $a0, %lo(D_80031134)($a0)
/* 20FBC 800203BC 8C82000C */  lw         $v0, 0xC($a0)
/* 20FC0 800203C0 00431025 */  or         $v0, $v0, $v1
/* 20FC4 800203C4 2403FCFF */  addiu      $v1, $zero, -0x301
/* 20FC8 800203C8 00431024 */  and        $v0, $v0, $v1
/* 20FCC 800203CC AC82000C */  sw         $v0, 0xC($a0)
.L800203D0:
/* 20FD0 800203D0 32020080 */  andi       $v0, $s0, 0x80
/* 20FD4 800203D4 1040000C */  beqz       $v0, .L80020408
/* 20FD8 800203D8 3C02FFFE */   lui       $v0, (0xFFFEFFFF >> 16)
/* 20FDC 800203DC 3C048003 */  lui        $a0, %hi(D_80031134)
/* 20FE0 800203E0 8C841134 */  lw         $a0, %lo(D_80031134)($a0)
/* 20FE4 800203E4 8C83000C */  lw         $v1, 0xC($a0)
/* 20FE8 800203E8 8C850008 */  lw         $a1, 0x8($a0)
/* 20FEC 800203EC 3442FFFF */  ori        $v0, $v0, (0xFFFEFFFF & 0xFFFF)
/* 20FF0 800203F0 00621824 */  and        $v1, $v1, $v0
/* 20FF4 800203F4 AC83000C */  sw         $v1, 0xC($a0)
/* 20FF8 800203F8 8CA20004 */  lw         $v0, 0x4($a1)
/* 20FFC 800203FC 30420300 */  andi       $v0, $v0, 0x300
/* 21000 80020400 00621825 */  or         $v1, $v1, $v0
/* 21004 80020404 AC83000C */  sw         $v1, 0xC($a0)
.L80020408:
/* 21008 80020408 3C038003 */  lui        $v1, %hi(D_80031134)
/* 2100C 8002040C 8C631134 */  lw         $v1, %lo(D_80031134)($v1)
/* 21010 80020410 94620000 */  lhu        $v0, 0x0($v1)
/* 21014 80020414 00C02021 */  addu       $a0, $a2, $zero
/* 21018 80020418 34420008 */  ori        $v0, $v0, 0x8
/* 2101C 8002041C 0C005750 */  jal        func_80015D40
/* 21020 80020420 A4620000 */   sh        $v0, 0x0($v1)
/* 21024 80020424 8FBF0014 */  lw         $ra, 0x14($sp)
/* 21028 80020428 8FB00010 */  lw         $s0, 0x10($sp)
/* 2102C 8002042C 03E00008 */  jr         $ra
/* 21030 80020430 27BD0018 */   addiu     $sp, $sp, 0x18
/* 21034 80020434 00000000 */  nop
/* 21038 80020438 00000000 */  nop
/* 2103C 8002043C 00000000 */  nop
