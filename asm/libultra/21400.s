.include "macro.inc"

# assembler directives
.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches
.set gp=64     # allow use of 64-bit general purpose registers

.section .text, "ax"

glabel __osMotorAccess
/* 21400 80020800 27BDFFD8 */  addiu      $sp, $sp, -0x28
/* 21404 80020804 AFB10014 */  sw         $s1, 0x14($sp)
/* 21408 80020808 00808821 */  addu       $s1, $a0, $zero
/* 2140C 8002080C AFB3001C */  sw         $s3, 0x1C($sp)
/* 21410 80020810 00A09821 */  addu       $s3, $a1, $zero
/* 21414 80020814 AFBF0020 */  sw         $ra, 0x20($sp)
/* 21418 80020818 AFB20018 */  sw         $s2, 0x18($sp)
/* 2141C 8002081C AFB00010 */  sw         $s0, 0x10($sp)
/* 21420 80020820 8E220008 */  lw         $v0, 0x8($s1)
/* 21424 80020824 8E230000 */  lw         $v1, 0x0($s1)
/* 21428 80020828 3C048004 */  lui        $a0, %hi(D_8003BA90)
/* 2142C 8002082C 2484BA90 */  addiu      $a0, $a0, %lo(D_8003BA90)
/* 21430 80020830 00021180 */  sll        $v0, $v0, 6
/* 21434 80020834 30630008 */  andi       $v1, $v1, 0x8
/* 21438 80020838 14600003 */  bnez       $v1, .L80020848
/* 2143C 8002083C 00449021 */   addu      $s2, $v0, $a0
/* 21440 80020840 0800824A */  j          .L80020928
/* 21444 80020844 24020005 */   addiu     $v0, $zero, 0x5
.L80020848:
/* 21448 80020848 0C007C8D */  jal        func_8001F234
/* 2144C 8002084C 00000000 */   nop
/* 21450 80020850 8E220008 */  lw         $v0, 0x8($s1)
/* 21454 80020854 24030001 */  addiu      $v1, $zero, 0x1
/* 21458 80020858 00021180 */  sll        $v0, $v0, 6
/* 2145C 8002085C 3C018004 */  lui        $at, %hi(D_8003BACC)
/* 21460 80020860 00220821 */  addu       $at, $at, $v0
/* 21464 80020864 AC23BACC */  sw         $v1, %lo(D_8003BACC)($at)
/* 21468 80020868 8E220008 */  lw         $v0, 0x8($s1)
/* 2146C 8002086C 2403001F */  addiu      $v1, $zero, 0x1F
/* 21470 80020870 02429021 */  addu       $s2, $s2, $v0
/* 21474 80020874 2642001F */  addiu      $v0, $s2, 0x1F
.L80020878:
/* 21478 80020878 A0530006 */  sb         $s3, 0x6($v0)
/* 2147C 8002087C 2463FFFF */  addiu      $v1, $v1, -0x1
/* 21480 80020880 0461FFFD */  bgez       $v1, .L80020878
/* 21484 80020884 2442FFFF */   addiu     $v0, $v0, -0x1
/* 21488 80020888 8E250008 */  lw         $a1, 0x8($s1)
/* 2148C 8002088C 24040001 */  addiu      $a0, $zero, 0x1
/* 21490 80020890 240200FE */  addiu      $v0, $zero, 0xFE
/* 21494 80020894 3C108004 */  lui        $s0, %hi(D_8003BA90)
/* 21498 80020898 2610BA90 */  addiu      $s0, $s0, %lo(D_8003BA90)
/* 2149C 8002089C 3C018004 */  lui        $at, %hi(D_8003A580)
/* 214A0 800208A0 A022A580 */  sb         $v0, %lo(D_8003A580)($at)
/* 214A4 800208A4 00052980 */  sll        $a1, $a1, 6
/* 214A8 800208A8 0C007C4C */  jal        func_8001F130
/* 214AC 800208AC 00B02821 */   addu      $a1, $a1, $s0
/* 214B0 800208B0 8E240004 */  lw         $a0, 0x4($s1)
/* 214B4 800208B4 00002821 */  addu       $a1, $zero, $zero
/* 214B8 800208B8 0C007720 */  jal        osRecvMesg
/* 214BC 800208BC 24060001 */   addiu     $a2, $zero, 0x1
/* 214C0 800208C0 8E250008 */  lw         $a1, 0x8($s1)
/* 214C4 800208C4 00002021 */  addu       $a0, $zero, $zero
/* 214C8 800208C8 00052980 */  sll        $a1, $a1, 6
/* 214CC 800208CC 0C007C4C */  jal        func_8001F130
/* 214D0 800208D0 00B02821 */   addu      $a1, $a1, $s0
/* 214D4 800208D4 8E240004 */  lw         $a0, 0x4($s1)
/* 214D8 800208D8 00002821 */  addu       $a1, $zero, $zero
/* 214DC 800208DC 0C007720 */  jal        osRecvMesg
/* 214E0 800208E0 24060001 */   addiu     $a2, $zero, 0x1
/* 214E4 800208E4 92420002 */  lbu        $v0, 0x2($s2)
/* 214E8 800208E8 305000C0 */  andi       $s0, $v0, 0xC0
/* 214EC 800208EC 1600000B */  bnez       $s0, .L8002091C
/* 214F0 800208F0 00000000 */   nop
/* 214F4 800208F4 16600006 */  bnez       $s3, .L80020910
/* 214F8 800208F8 240200EB */   addiu     $v0, $zero, 0xEB
/* 214FC 800208FC 92420026 */  lbu        $v0, 0x26($s2)
/* 21500 80020900 10400006 */  beqz       $v0, .L8002091C
/* 21504 80020904 00000000 */   nop
/* 21508 80020908 08008247 */  j          .L8002091C
/* 2150C 8002090C 24100004 */   addiu     $s0, $zero, 0x4
.L80020910:
/* 21510 80020910 92430026 */  lbu        $v1, 0x26($s2)
/* 21514 80020914 54620001 */  bnel       $v1, $v0, .L8002091C
/* 21518 80020918 24100004 */   addiu     $s0, $zero, 0x4
.L8002091C:
/* 2151C 8002091C 0C007CA8 */  jal        func_8001F2A0
/* 21520 80020920 00000000 */   nop
/* 21524 80020924 02001021 */  addu       $v0, $s0, $zero
.L80020928:
/* 21528 80020928 8FBF0020 */  lw         $ra, 0x20($sp)
/* 2152C 8002092C 8FB3001C */  lw         $s3, 0x1C($sp)
/* 21530 80020930 8FB20018 */  lw         $s2, 0x18($sp)
/* 21534 80020934 8FB10014 */  lw         $s1, 0x14($sp)
/* 21538 80020938 8FB00010 */  lw         $s0, 0x10($sp)
/* 2153C 8002093C 03E00008 */  jr         $ra
/* 21540 80020940 27BD0028 */   addiu     $sp, $sp, 0x28

glabel osMotorInit
/* 21544 80020944 27BDFF88 */  addiu      $sp, $sp, -0x78
/* 21548 80020948 AFB00060 */  sw         $s0, 0x60($sp)
/* 2154C 8002094C 00808021 */  addu       $s0, $a0, $zero
/* 21550 80020950 AFB20068 */  sw         $s2, 0x68($sp)
/* 21554 80020954 00A09021 */  addu       $s2, $a1, $zero
/* 21558 80020958 AFB10064 */  sw         $s1, 0x64($sp)
/* 2155C 8002095C 00C08821 */  addu       $s1, $a2, $zero
/* 21560 80020960 02402021 */  addu       $a0, $s2, $zero
/* 21564 80020964 240500FE */  addiu      $a1, $zero, 0xFE
/* 21568 80020968 240200FF */  addiu      $v0, $zero, 0xFF
/* 2156C 8002096C AFBF0070 */  sw         $ra, 0x70($sp)
/* 21570 80020970 AFB3006C */  sw         $s3, 0x6C($sp)
/* 21574 80020974 AE500004 */  sw         $s0, 0x4($s2)
/* 21578 80020978 AE510008 */  sw         $s1, 0x8($s2)
/* 2157C 8002097C A2420065 */  sb         $v0, 0x65($s2)
/* 21580 80020980 0C008B34 */  jal        func_80022CD0
/* 21584 80020984 AE400000 */   sw        $zero, 0x0($s2)
/* 21588 80020988 24130002 */  addiu      $s3, $zero, 0x2
/* 2158C 8002098C 14530003 */  bne        $v0, $s3, .L8002099C
/* 21590 80020990 02402021 */   addu      $a0, $s2, $zero
/* 21594 80020994 0C008B34 */  jal        func_80022CD0
/* 21598 80020998 24050080 */   addiu     $a1, $zero, 0x80
.L8002099C:
/* 2159C 8002099C 14400074 */  bnez       $v0, .L80020B70
/* 215A0 800209A0 02002021 */   addu      $a0, $s0, $zero
/* 215A4 800209A4 02202821 */  addu       $a1, $s1, $zero
/* 215A8 800209A8 24060400 */  addiu      $a2, $zero, 0x400
/* 215AC 800209AC 0C008DF4 */  jal        func_800237D0
/* 215B0 800209B0 27A70010 */   addiu     $a3, $sp, 0x10
/* 215B4 800209B4 50530001 */  beql       $v0, $s3, .L800209BC
/* 215B8 800209B8 24020004 */   addiu     $v0, $zero, 0x4
.L800209BC:
/* 215BC 800209BC 1440006C */  bnez       $v0, .L80020B70
/* 215C0 800209C0 00000000 */   nop
/* 215C4 800209C4 93A3002F */  lbu        $v1, 0x2F($sp)
/* 215C8 800209C8 240200FE */  addiu      $v0, $zero, 0xFE
/* 215CC 800209CC 10620013 */  beq        $v1, $v0, .L80020A1C
/* 215D0 800209D0 02402021 */   addu      $a0, $s2, $zero
/* 215D4 800209D4 0C008B34 */  jal        func_80022CD0
/* 215D8 800209D8 24050080 */   addiu     $a1, $zero, 0x80
/* 215DC 800209DC 50530001 */  beql       $v0, $s3, .L800209E4
/* 215E0 800209E0 24020004 */   addiu     $v0, $zero, 0x4
.L800209E4:
/* 215E4 800209E4 14400062 */  bnez       $v0, .L80020B70
/* 215E8 800209E8 02002021 */   addu      $a0, $s0, $zero
/* 215EC 800209EC 02202821 */  addu       $a1, $s1, $zero
/* 215F0 800209F0 24060400 */  addiu      $a2, $zero, 0x400
/* 215F4 800209F4 0C008DF4 */  jal        func_800237D0
/* 215F8 800209F8 27A70010 */   addiu     $a3, $sp, 0x10
/* 215FC 800209FC 50530001 */  beql       $v0, $s3, .L80020A04
/* 21600 80020A00 24020004 */   addiu     $v0, $zero, 0x4
.L80020A04:
/* 21604 80020A04 1440005A */  bnez       $v0, .L80020B70
/* 21608 80020A08 00000000 */   nop
/* 2160C 80020A0C 93A3002F */  lbu        $v1, 0x2F($sp)
/* 21610 80020A10 24020080 */  addiu      $v0, $zero, 0x80
/* 21614 80020A14 10620003 */  beq        $v1, $v0, .L80020A24
/* 21618 80020A18 00000000 */   nop
.L80020A1C:
/* 2161C 80020A1C 080082DC */  j          .L80020B70
/* 21620 80020A20 2402000B */   addiu     $v0, $zero, 0xB
.L80020A24:
/* 21624 80020A24 8E420000 */  lw         $v0, 0x0($s2)
/* 21628 80020A28 30420008 */  andi       $v0, $v0, 0x8
/* 2162C 80020A2C 1440004E */  bnez       $v0, .L80020B68
/* 21630 80020A30 24020008 */   addiu     $v0, $zero, 0x8
/* 21634 80020A34 00111980 */  sll        $v1, $s1, 6
/* 21638 80020A38 3C028004 */  lui        $v0, %hi(D_8003BA90)
/* 2163C 80020A3C 2442BA90 */  addiu      $v0, $v0, %lo(D_8003BA90)
/* 21640 80020A40 00628021 */  addu       $s0, $v1, $v0
/* 21644 80020A44 24040600 */  addiu      $a0, $zero, 0x600
/* 21648 80020A48 240200FF */  addiu      $v0, $zero, 0xFF
/* 2164C 80020A4C A3A20030 */  sb         $v0, 0x30($sp)
/* 21650 80020A50 24020023 */  addiu      $v0, $zero, 0x23
/* 21654 80020A54 A3A20031 */  sb         $v0, 0x31($sp)
/* 21658 80020A58 24020001 */  addiu      $v0, $zero, 0x1
/* 2165C 80020A5C A3A20032 */  sb         $v0, 0x32($sp)
/* 21660 80020A60 24020003 */  addiu      $v0, $zero, 0x3
/* 21664 80020A64 A3A20033 */  sb         $v0, 0x33($sp)
/* 21668 80020A68 240200C0 */  addiu      $v0, $zero, 0xC0
/* 2166C 80020A6C 0C0082E4 */  jal        func_80020B90
/* 21670 80020A70 A3A20034 */   sb        $v0, 0x34($sp)
/* 21674 80020A74 12200008 */  beqz       $s1, .L80020A98
/* 21678 80020A78 A3A20035 */   sb        $v0, 0x35($sp)
/* 2167C 80020A7C 1A200006 */  blez       $s1, .L80020A98
/* 21680 80020A80 00001821 */   addu      $v1, $zero, $zero
.L80020A84:
/* 21684 80020A84 A2000000 */  sb         $zero, 0x0($s0)
/* 21688 80020A88 24630001 */  addiu      $v1, $v1, 0x1
/* 2168C 80020A8C 0071102A */  slt        $v0, $v1, $s1
/* 21690 80020A90 1440FFFC */  bnez       $v0, .L80020A84
/* 21694 80020A94 26100001 */   addiu     $s0, $s0, 0x1
.L80020A98:
/* 21698 80020A98 27A60030 */  addiu      $a2, $sp, 0x30
/* 2169C 80020A9C 00D01025 */  or         $v0, $a2, $s0
/* 216A0 80020AA0 30420003 */  andi       $v0, $v0, 0x3
/* 216A4 80020AA4 10400017 */  beqz       $v0, .L80020B04
/* 216A8 80020AA8 02003821 */   addu      $a3, $s0, $zero
/* 216AC 80020AAC 27A80050 */  addiu      $t0, $sp, 0x50
.L80020AB0:
/* 216B0 80020AB0 88C20000 */  lwl        $v0, 0x0($a2)
/* 216B4 80020AB4 98C20003 */  lwr        $v0, 0x3($a2)
/* 216B8 80020AB8 88C30004 */  lwl        $v1, 0x4($a2)
/* 216BC 80020ABC 98C30007 */  lwr        $v1, 0x7($a2)
/* 216C0 80020AC0 88C40008 */  lwl        $a0, 0x8($a2)
/* 216C4 80020AC4 98C4000B */  lwr        $a0, 0xB($a2)
/* 216C8 80020AC8 88C5000C */  lwl        $a1, 0xC($a2)
/* 216CC 80020ACC 98C5000F */  lwr        $a1, 0xF($a2)
/* 216D0 80020AD0 A8E20000 */  swl        $v0, 0x0($a3)
/* 216D4 80020AD4 B8E20003 */  swr        $v0, 0x3($a3)
/* 216D8 80020AD8 A8E30004 */  swl        $v1, 0x4($a3)
/* 216DC 80020ADC B8E30007 */  swr        $v1, 0x7($a3)
/* 216E0 80020AE0 A8E40008 */  swl        $a0, 0x8($a3)
/* 216E4 80020AE4 B8E4000B */  swr        $a0, 0xB($a3)
/* 216E8 80020AE8 A8E5000C */  swl        $a1, 0xC($a3)
/* 216EC 80020AEC B8E5000F */  swr        $a1, 0xF($a3)
/* 216F0 80020AF0 24C60010 */  addiu      $a2, $a2, 0x10
/* 216F4 80020AF4 14C8FFEE */  bne        $a2, $t0, .L80020AB0
/* 216F8 80020AF8 24E70010 */   addiu     $a3, $a3, 0x10
/* 216FC 80020AFC 080082CD */  j          .L80020B34
/* 21700 80020B00 00000000 */   nop
.L80020B04:
/* 21704 80020B04 27A80050 */  addiu      $t0, $sp, 0x50
.L80020B08:
/* 21708 80020B08 8CC20000 */  lw         $v0, 0x0($a2)
/* 2170C 80020B0C 8CC30004 */  lw         $v1, 0x4($a2)
/* 21710 80020B10 8CC40008 */  lw         $a0, 0x8($a2)
/* 21714 80020B14 8CC5000C */  lw         $a1, 0xC($a2)
/* 21718 80020B18 ACE20000 */  sw         $v0, 0x0($a3)
/* 2171C 80020B1C ACE30004 */  sw         $v1, 0x4($a3)
/* 21720 80020B20 ACE40008 */  sw         $a0, 0x8($a3)
/* 21724 80020B24 ACE5000C */  sw         $a1, 0xC($a3)
/* 21728 80020B28 24C60010 */  addiu      $a2, $a2, 0x10
/* 2172C 80020B2C 14C8FFF6 */  bne        $a2, $t0, .L80020B08
/* 21730 80020B30 24E70010 */   addiu     $a3, $a3, 0x10
.L80020B34:
/* 21734 80020B34 88C20000 */  lwl        $v0, 0x0($a2)
/* 21738 80020B38 98C20003 */  lwr        $v0, 0x3($a2)
/* 2173C 80020B3C 80C30004 */  lb         $v1, 0x4($a2)
/* 21740 80020B40 80C40005 */  lb         $a0, 0x5($a2)
/* 21744 80020B44 80C50006 */  lb         $a1, 0x6($a2)
/* 21748 80020B48 A8E20000 */  swl        $v0, 0x0($a3)
/* 2174C 80020B4C B8E20003 */  swr        $v0, 0x3($a3)
/* 21750 80020B50 A0E30004 */  sb         $v1, 0x4($a3)
/* 21754 80020B54 A0E40005 */  sb         $a0, 0x5($a3)
/* 21758 80020B58 A0E50006 */  sb         $a1, 0x6($a3)
/* 2175C 80020B5C 240200FE */  addiu      $v0, $zero, 0xFE
/* 21760 80020B60 A2020027 */  sb         $v0, 0x27($s0)
/* 21764 80020B64 24020008 */  addiu      $v0, $zero, 0x8
.L80020B68:
/* 21768 80020B68 AE420000 */  sw         $v0, 0x0($s2)
/* 2176C 80020B6C 00001021 */  addu       $v0, $zero, $zero
.L80020B70:
/* 21770 80020B70 8FBF0070 */  lw         $ra, 0x70($sp)
/* 21774 80020B74 8FB3006C */  lw         $s3, 0x6C($sp)
/* 21778 80020B78 8FB20068 */  lw         $s2, 0x68($sp)
/* 2177C 80020B7C 8FB10064 */  lw         $s1, 0x64($sp)
/* 21780 80020B80 8FB00060 */  lw         $s0, 0x60($sp)
/* 21784 80020B84 03E00008 */  jr         $ra
/* 21788 80020B88 27BD0078 */   addiu     $sp, $sp, 0x78
/* 2178C 80020B8C 00000000 */  nop
