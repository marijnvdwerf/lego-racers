.include "macro.inc"

# assembler directives
.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches
.set gp=64     # allow use of 64-bit general purpose registers

.section .text, "ax"

glabel osPfsNumFiles
/* 22A60 80021E60 27BDFFB0 */  addiu      $sp, $sp, -0x50
/* 22A64 80021E64 AFB00038 */  sw         $s0, 0x38($sp)
/* 22A68 80021E68 00808021 */  addu       $s0, $a0, $zero
/* 22A6C 80021E6C AFB40048 */  sw         $s4, 0x48($sp)
/* 22A70 80021E70 00A0A021 */  addu       $s4, $a1, $zero
/* 22A74 80021E74 AFBF004C */  sw         $ra, 0x4C($sp)
/* 22A78 80021E78 AFB30044 */  sw         $s3, 0x44($sp)
/* 22A7C 80021E7C AFB20040 */  sw         $s2, 0x40($sp)
/* 22A80 80021E80 AFB1003C */  sw         $s1, 0x3C($sp)
/* 22A84 80021E84 8E020000 */  lw         $v0, 0x0($s0)
/* 22A88 80021E88 00C09821 */  addu       $s3, $a2, $zero
/* 22A8C 80021E8C 30420001 */  andi       $v0, $v0, 0x1
/* 22A90 80021E90 14400003 */  bnez       $v0, .L80021EA0
/* 22A94 80021E94 00009021 */   addu      $s2, $zero, $zero
/* 22A98 80021E98 080087D0 */  j          .L80021F40
/* 22A9C 80021E9C 24020005 */   addiu     $v0, $zero, 0x5
.L80021EA0:
/* 22AA0 80021EA0 0C008CF5 */  jal        func_800233D4
/* 22AA4 80021EA4 02002021 */   addu      $a0, $s0, $zero
/* 22AA8 80021EA8 14400025 */  bnez       $v0, .L80021F40
/* 22AAC 80021EAC 00000000 */   nop
/* 22AB0 80021EB0 92020065 */  lbu        $v0, 0x65($s0)
/* 22AB4 80021EB4 10400005 */  beqz       $v0, .L80021ECC
/* 22AB8 80021EB8 02002021 */   addu      $a0, $s0, $zero
/* 22ABC 80021EBC 0C008B34 */  jal        func_80022CD0
/* 22AC0 80021EC0 00002821 */   addu      $a1, $zero, $zero
/* 22AC4 80021EC4 1440001E */  bnez       $v0, .L80021F40
/* 22AC8 80021EC8 00000000 */   nop
.L80021ECC:
/* 22ACC 80021ECC 8E020050 */  lw         $v0, 0x50($s0)
/* 22AD0 80021ED0 18400015 */  blez       $v0, .L80021F28
/* 22AD4 80021ED4 00008821 */   addu      $s1, $zero, $zero
.L80021ED8:
/* 22AD8 80021ED8 8E06005C */  lw         $a2, 0x5C($s0)
/* 22ADC 80021EDC 8E040004 */  lw         $a0, 0x4($s0)
/* 22AE0 80021EE0 8E050008 */  lw         $a1, 0x8($s0)
/* 22AE4 80021EE4 27A70010 */  addiu      $a3, $sp, 0x10
/* 22AE8 80021EE8 00D13021 */  addu       $a2, $a2, $s1
/* 22AEC 80021EEC 0C008DF4 */  jal        func_800237D0
/* 22AF0 80021EF0 30C6FFFF */   andi      $a2, $a2, 0xFFFF
/* 22AF4 80021EF4 14400012 */  bnez       $v0, .L80021F40
/* 22AF8 80021EF8 00000000 */   nop
/* 22AFC 80021EFC 97A20014 */  lhu        $v0, 0x14($sp)
/* 22B00 80021F00 10400004 */  beqz       $v0, .L80021F14
/* 22B04 80021F04 00000000 */   nop
/* 22B08 80021F08 8FA20010 */  lw         $v0, 0x10($sp)
/* 22B0C 80021F0C 0002102B */  sltu       $v0, $zero, $v0
/* 22B10 80021F10 02429021 */  addu       $s2, $s2, $v0
.L80021F14:
/* 22B14 80021F14 8E020050 */  lw         $v0, 0x50($s0)
/* 22B18 80021F18 26310001 */  addiu      $s1, $s1, 0x1
/* 22B1C 80021F1C 0222102A */  slt        $v0, $s1, $v0
/* 22B20 80021F20 1440FFED */  bnez       $v0, .L80021ED8
/* 22B24 80021F24 00000000 */   nop
.L80021F28:
/* 22B28 80021F28 AE720000 */  sw         $s2, 0x0($s3)
/* 22B2C 80021F2C 8E020050 */  lw         $v0, 0x50($s0)
/* 22B30 80021F30 AE820000 */  sw         $v0, 0x0($s4)
/* 22B34 80021F34 8E040004 */  lw         $a0, 0x4($s0)
/* 22B38 80021F38 0C008AB0 */  jal        func_80022AC0
/* 22B3C 80021F3C 8E050008 */   lw        $a1, 0x8($s0)
.L80021F40:
/* 22B40 80021F40 8FBF004C */  lw         $ra, 0x4C($sp)
/* 22B44 80021F44 8FB40048 */  lw         $s4, 0x48($sp)
/* 22B48 80021F48 8FB30044 */  lw         $s3, 0x44($sp)
/* 22B4C 80021F4C 8FB20040 */  lw         $s2, 0x40($sp)
/* 22B50 80021F50 8FB1003C */  lw         $s1, 0x3C($sp)
/* 22B54 80021F54 8FB00038 */  lw         $s0, 0x38($sp)
/* 22B58 80021F58 03E00008 */  jr         $ra
/* 22B5C 80021F5C 27BD0050 */   addiu     $sp, $sp, 0x50

glabel osPfsInitPak
/* 22B60 80021F60 27BDFF90 */  addiu      $sp, $sp, -0x70
/* 22B64 80021F64 AFB20060 */  sw         $s2, 0x60($sp)
/* 22B68 80021F68 00809021 */  addu       $s2, $a0, $zero
/* 22B6C 80021F6C AFB1005C */  sw         $s1, 0x5C($sp)
/* 22B70 80021F70 00A08821 */  addu       $s1, $a1, $zero
/* 22B74 80021F74 AFB30064 */  sw         $s3, 0x64($sp)
/* 22B78 80021F78 00C09821 */  addu       $s3, $a2, $zero
/* 22B7C 80021F7C AFBF0068 */  sw         $ra, 0x68($sp)
/* 22B80 80021F80 0C007C8D */  jal        func_8001F234
/* 22B84 80021F84 AFB00058 */   sw        $s0, 0x58($sp)
/* 22B88 80021F88 02402021 */  addu       $a0, $s2, $zero
/* 22B8C 80021F8C 0C008AB0 */  jal        func_80022AC0
/* 22B90 80021F90 02602821 */   addu      $a1, $s3, $zero
/* 22B94 80021F94 0C007CA8 */  jal        func_8001F2A0
/* 22B98 80021F98 00408021 */   addu      $s0, $v0, $zero
/* 22B9C 80021F9C 16000067 */  bnez       $s0, .L8002213C
/* 22BA0 80021FA0 02001021 */   addu      $v0, $s0, $zero
/* 22BA4 80021FA4 02202021 */  addu       $a0, $s1, $zero
/* 22BA8 80021FA8 AE320004 */  sw         $s2, 0x4($s1)
/* 22BAC 80021FAC AE330008 */  sw         $s3, 0x8($s1)
/* 22BB0 80021FB0 0C008856 */  jal        func_80022158
/* 22BB4 80021FB4 AE200000 */   sw        $zero, 0x0($s1)
/* 22BB8 80021FB8 00408021 */  addu       $s0, $v0, $zero
/* 22BBC 80021FBC 1600005F */  bnez       $s0, .L8002213C
/* 22BC0 80021FC0 02202021 */   addu      $a0, $s1, $zero
/* 22BC4 80021FC4 0C008B34 */  jal        func_80022CD0
/* 22BC8 80021FC8 00002821 */   addu      $a1, $zero, $zero
/* 22BCC 80021FCC 00408021 */  addu       $s0, $v0, $zero
/* 22BD0 80021FD0 1600005A */  bnez       $s0, .L8002213C
/* 22BD4 80021FD4 24060001 */   addiu     $a2, $zero, 0x1
/* 22BD8 80021FD8 8E240004 */  lw         $a0, 0x4($s1)
/* 22BDC 80021FDC 8E250008 */  lw         $a1, 0x8($s1)
/* 22BE0 80021FE0 0C008DF4 */  jal        func_800237D0
/* 22BE4 80021FE4 27A70010 */   addiu     $a3, $sp, 0x10
/* 22BE8 80021FE8 00408021 */  addu       $s0, $v0, $zero
/* 22BEC 80021FEC 16000053 */  bnez       $s0, .L8002213C
/* 22BF0 80021FF0 27A40010 */   addiu     $a0, $sp, 0x10
/* 22BF4 80021FF4 27A50050 */  addiu      $a1, $sp, 0x50
/* 22BF8 80021FF8 0C008B5D */  jal        func_80022D74
/* 22BFC 80021FFC 27A60052 */   addiu     $a2, $sp, 0x52
/* 22C00 80022000 97A3002C */  lhu        $v1, 0x2C($sp)
/* 22C04 80022004 97A20050 */  lhu        $v0, 0x50($sp)
/* 22C08 80022008 14620005 */  bne        $v1, $v0, .L80022020
/* 22C0C 8002200C 27B20010 */   addiu     $s2, $sp, 0x10
/* 22C10 80022010 97A3002E */  lhu        $v1, 0x2E($sp)
/* 22C14 80022014 97A20052 */  lhu        $v0, 0x52($sp)
/* 22C18 80022018 1062000B */  beq        $v1, $v0, .L80022048
/* 22C1C 8002201C 00000000 */   nop
.L80022020:
/* 22C20 80022020 02202021 */  addu       $a0, $s1, $zero
/* 22C24 80022024 0C008C29 */  jal        func_800230A4
/* 22C28 80022028 02402821 */   addu      $a1, $s2, $zero
/* 22C2C 8002202C 00408021 */  addu       $s0, $v0, $zero
/* 22C30 80022030 12000005 */  beqz       $s0, .L80022048
/* 22C34 80022034 00000000 */   nop
/* 22C38 80022038 8E230000 */  lw         $v1, 0x0($s1)
/* 22C3C 8002203C 34630004 */  ori        $v1, $v1, 0x4
/* 22C40 80022040 0800884F */  j          .L8002213C
/* 22C44 80022044 AE230000 */   sw        $v1, 0x0($s1)
.L80022048:
/* 22C48 80022048 96420018 */  lhu        $v0, 0x18($s2)
/* 22C4C 8002204C 30420001 */  andi       $v0, $v0, 0x1
/* 22C50 80022050 14400015 */  bnez       $v0, .L800220A8
/* 22C54 80022054 02402021 */   addu      $a0, $s2, $zero
/* 22C58 80022058 02202021 */  addu       $a0, $s1, $zero
/* 22C5C 8002205C 02402821 */  addu       $a1, $s2, $zero
/* 22C60 80022060 27B20030 */  addiu      $s2, $sp, 0x30
/* 22C64 80022064 0C008B6E */  jal        func_80022DB8
/* 22C68 80022068 02403021 */   addu      $a2, $s2, $zero
/* 22C6C 8002206C 00408021 */  addu       $s0, $v0, $zero
/* 22C70 80022070 12000007 */  beqz       $s0, .L80022090
/* 22C74 80022074 2402000A */   addiu     $v0, $zero, 0xA
/* 22C78 80022078 16020030 */  bne        $s0, $v0, .L8002213C
/* 22C7C 8002207C 02001021 */   addu      $v0, $s0, $zero
/* 22C80 80022080 8E220000 */  lw         $v0, 0x0($s1)
/* 22C84 80022084 34420004 */  ori        $v0, $v0, 0x4
/* 22C88 80022088 0800884E */  j          .L80022138
/* 22C8C 8002208C AE220000 */   sw        $v0, 0x0($s1)
.L80022090:
/* 22C90 80022090 97A20048 */  lhu        $v0, 0x48($sp)
/* 22C94 80022094 30420001 */  andi       $v0, $v0, 0x1
/* 22C98 80022098 14400003 */  bnez       $v0, .L800220A8
/* 22C9C 8002209C 02402021 */   addu      $a0, $s2, $zero
/* 22CA0 800220A0 0800884F */  j          .L8002213C
/* 22CA4 800220A4 2402000B */   addiu     $v0, $zero, 0xB
.L800220A8:
/* 22CA8 800220A8 2625000C */  addiu      $a1, $s1, 0xC
/* 22CAC 800220AC 0C007874 */  jal        func_8001E1D0
/* 22CB0 800220B0 24060020 */   addiu     $a2, $zero, 0x20
/* 22CB4 800220B4 8E240004 */  lw         $a0, 0x4($s1)
/* 22CB8 800220B8 8E250008 */  lw         $a1, 0x8($s1)
/* 22CBC 800220BC 9242001B */  lbu        $v0, 0x1B($s2)
/* 22CC0 800220C0 24060007 */  addiu      $a2, $zero, 0x7
/* 22CC4 800220C4 AE22004C */  sw         $v0, 0x4C($s1)
/* 22CC8 800220C8 9243001A */  lbu        $v1, 0x1A($s2)
/* 22CCC 800220CC 2627002C */  addiu      $a3, $s1, 0x2C
/* 22CD0 800220D0 24020010 */  addiu      $v0, $zero, 0x10
/* 22CD4 800220D4 AE220050 */  sw         $v0, 0x50($s1)
/* 22CD8 800220D8 24020008 */  addiu      $v0, $zero, 0x8
/* 22CDC 800220DC AE220054 */  sw         $v0, 0x54($s1)
/* 22CE0 800220E0 A2230064 */  sb         $v1, 0x64($s1)
/* 22CE4 800220E4 92220064 */  lbu        $v0, 0x64($s1)
/* 22CE8 800220E8 00031840 */  sll        $v1, $v1, 1
/* 22CEC 800220EC 24630003 */  addiu      $v1, $v1, 0x3
/* 22CF0 800220F0 AE230060 */  sw         $v1, 0x60($s1)
/* 22CF4 800220F4 92230064 */  lbu        $v1, 0x64($s1)
/* 22CF8 800220F8 24420001 */  addiu      $v0, $v0, 0x1
/* 22CFC 800220FC 000210C0 */  sll        $v0, $v0, 3
/* 22D00 80022100 000318C0 */  sll        $v1, $v1, 3
/* 22D04 80022104 AE220058 */  sw         $v0, 0x58($s1)
/* 22D08 80022108 00431021 */  addu       $v0, $v0, $v1
/* 22D0C 8002210C 0C008DF4 */  jal        func_800237D0
/* 22D10 80022110 AE22005C */   sw        $v0, 0x5C($s1)
/* 22D14 80022114 00408021 */  addu       $s0, $v0, $zero
/* 22D18 80022118 16000008 */  bnez       $s0, .L8002213C
/* 22D1C 8002211C 02001021 */   addu      $v0, $s0, $zero
/* 22D20 80022120 0C0088D0 */  jal        func_80022340
/* 22D24 80022124 02202021 */   addu      $a0, $s1, $zero
/* 22D28 80022128 8E230000 */  lw         $v1, 0x0($s1)
/* 22D2C 8002212C 34630001 */  ori        $v1, $v1, 0x1
/* 22D30 80022130 0800884F */  j          .L8002213C
/* 22D34 80022134 AE230000 */   sw        $v1, 0x0($s1)
.L80022138:
/* 22D38 80022138 02001021 */  addu       $v0, $s0, $zero
.L8002213C:
/* 22D3C 8002213C 8FBF0068 */  lw         $ra, 0x68($sp)
/* 22D40 80022140 8FB30064 */  lw         $s3, 0x64($sp)
/* 22D44 80022144 8FB20060 */  lw         $s2, 0x60($sp)
/* 22D48 80022148 8FB1005C */  lw         $s1, 0x5C($sp)
/* 22D4C 8002214C 8FB00058 */  lw         $s0, 0x58($sp)
/* 22D50 80022150 03E00008 */  jr         $ra
/* 22D54 80022154 27BD0070 */   addiu     $sp, $sp, 0x70

glabel func_80022158
/* 22D58 80022158 27BDFF78 */  addiu      $sp, $sp, -0x88
/* 22D5C 8002215C AFB00078 */  sw         $s0, 0x78($sp)
/* 22D60 80022160 00808021 */  addu       $s0, $a0, $zero
/* 22D64 80022164 00002821 */  addu       $a1, $zero, $zero
/* 22D68 80022168 AFBF0080 */  sw         $ra, 0x80($sp)
/* 22D6C 8002216C 0C008B34 */  jal        func_80022CD0
/* 22D70 80022170 AFB1007C */   sw        $s1, 0x7C($sp)
/* 22D74 80022174 14400026 */  bnez       $v0, .L80022210
/* 22D78 80022178 00003021 */   addu      $a2, $zero, $zero
/* 22D7C 8002217C 8E040004 */  lw         $a0, 0x4($s0)
/* 22D80 80022180 8E050008 */  lw         $a1, 0x8($s0)
/* 22D84 80022184 0C008DF4 */  jal        func_800237D0
/* 22D88 80022188 27A70058 */   addiu     $a3, $sp, 0x58
/* 22D8C 8002218C 14400020 */  bnez       $v0, .L80022210
/* 22D90 80022190 27A30037 */   addiu     $v1, $sp, 0x37
/* 22D94 80022194 2402001F */  addiu      $v0, $zero, 0x1F
.L80022198:
/* 22D98 80022198 A0620000 */  sb         $v0, 0x0($v1)
/* 22D9C 8002219C 2442FFFF */  addiu      $v0, $v0, -0x1
/* 22DA0 800221A0 0441FFFD */  bgez       $v0, .L80022198
/* 22DA4 800221A4 2463FFFF */   addiu     $v1, $v1, -0x1
/* 22DA8 800221A8 AFA00010 */  sw         $zero, 0x10($sp)
/* 22DAC 800221AC 8E040004 */  lw         $a0, 0x4($s0)
/* 22DB0 800221B0 8E050008 */  lw         $a1, 0x8($s0)
/* 22DB4 800221B4 00003021 */  addu       $a2, $zero, $zero
/* 22DB8 800221B8 0C008E70 */  jal        func_800239C0
/* 22DBC 800221BC 27A70018 */   addiu     $a3, $sp, 0x18
/* 22DC0 800221C0 14400013 */  bnez       $v0, .L80022210
/* 22DC4 800221C4 00003021 */   addu      $a2, $zero, $zero
/* 22DC8 800221C8 8E040004 */  lw         $a0, 0x4($s0)
/* 22DCC 800221CC 8E050008 */  lw         $a1, 0x8($s0)
/* 22DD0 800221D0 27B10038 */  addiu      $s1, $sp, 0x38
/* 22DD4 800221D4 0C008DF4 */  jal        func_800237D0
/* 22DD8 800221D8 02203821 */   addu      $a3, $s1, $zero
/* 22DDC 800221DC 1440000C */  bnez       $v0, .L80022210
/* 22DE0 800221E0 27A40018 */   addiu     $a0, $sp, 0x18
/* 22DE4 800221E4 02202821 */  addu       $a1, $s1, $zero
/* 22DE8 800221E8 0C00888C */  jal        func_80022230
/* 22DEC 800221EC 24060020 */   addiu     $a2, $zero, 0x20
/* 22DF0 800221F0 14400007 */  bnez       $v0, .L80022210
/* 22DF4 800221F4 2402000B */   addiu     $v0, $zero, 0xB
/* 22DF8 800221F8 AFA00010 */  sw         $zero, 0x10($sp)
/* 22DFC 800221FC 8E040004 */  lw         $a0, 0x4($s0)
/* 22E00 80022200 8E050008 */  lw         $a1, 0x8($s0)
/* 22E04 80022204 00003021 */  addu       $a2, $zero, $zero
/* 22E08 80022208 0C008E70 */  jal        func_800239C0
/* 22E0C 8002220C 27A70058 */   addiu     $a3, $sp, 0x58
.L80022210:
/* 22E10 80022210 8FBF0080 */  lw         $ra, 0x80($sp)
/* 22E14 80022214 8FB1007C */  lw         $s1, 0x7C($sp)
/* 22E18 80022218 8FB00078 */  lw         $s0, 0x78($sp)
/* 22E1C 8002221C 03E00008 */  jr         $ra
/* 22E20 80022220 27BD0088 */   addiu     $sp, $sp, 0x88
/* 22E24 80022224 00000000 */  nop
/* 22E28 80022228 00000000 */  nop
/* 22E2C 8002222C 00000000 */  nop
