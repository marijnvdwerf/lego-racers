.include "macro.inc"

# assembler directives
.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches
.set gp=64     # allow use of 64-bit general purpose registers

.section .text, "ax"

glabel __MusIntDmaIni
/* 12D30 80012130 27BDFFD0 */  addiu      $sp, $sp, -0x30
/* 12D34 80012134 AFB3001C */  sw         $s3, 0x1C($sp)
/* 12D38 80012138 00809821 */  addu       $s3, $a0, $zero
/* 12D3C 8001213C AFB50024 */  sw         $s5, 0x24($sp)
/* 12D40 80012140 00A0A821 */  addu       $s5, $a1, $zero
/* 12D44 80012144 AFBF002C */  sw         $ra, 0x2C($sp)
/* 12D48 80012148 AFB60028 */  sw         $s6, 0x28($sp)
/* 12D4C 8001214C AFB40020 */  sw         $s4, 0x20($sp)
/* 12D50 80012150 AFB20018 */  sw         $s2, 0x18($sp)
/* 12D54 80012154 AFB10014 */  sw         $s1, 0x14($sp)
/* 12D58 80012158 0C005838 */  jal        osCartRomInit
/* 12D5C 8001215C AFB00010 */   sw        $s0, 0x10($sp)
/* 12D60 80012160 00132040 */  sll        $a0, $s3, 1
/* 12D64 80012164 00932021 */  addu       $a0, $a0, $s3
/* 12D68 80012168 00042100 */  sll        $a0, $a0, 4
/* 12D6C 8001216C 3C038004 */  lui        $v1, %hi(D_80038F48)
/* 12D70 80012170 0C004AD7 */  jal        func_80012B5C
/* 12D74 80012174 AC628F48 */   sw        $v0, %lo(D_80038F48)($v1)
/* 12D78 80012178 001320C0 */  sll        $a0, $s3, 3
/* 12D7C 8001217C 3C038004 */  lui        $v1, %hi(D_80038F1C)
/* 12D80 80012180 0C004AD7 */  jal        func_80012B5C
/* 12D84 80012184 AC628F1C */   sw        $v0, %lo(D_80038F1C)($v1)
/* 12D88 80012188 00138080 */  sll        $s0, $s3, 2
/* 12D8C 8001218C 02138021 */  addu       $s0, $s0, $s3
/* 12D90 80012190 00108080 */  sll        $s0, $s0, 2
/* 12D94 80012194 02002021 */  addu       $a0, $s0, $zero
/* 12D98 80012198 3C038004 */  lui        $v1, %hi(D_80038F20)
/* 12D9C 8001219C 0C004AD7 */  jal        func_80012B5C
/* 12DA0 800121A0 AC628F20 */   sw        $v0, %lo(D_80038F20)($v1)
/* 12DA4 800121A4 00402021 */  addu       $a0, $v0, $zero
/* 12DA8 800121A8 00002821 */  addu       $a1, $zero, $zero
/* 12DAC 800121AC 02003021 */  addu       $a2, $s0, $zero
/* 12DB0 800121B0 3C108004 */  lui        $s0, %hi(D_80038F18)
/* 12DB4 800121B4 0C004AEC */  jal        func_80012BB0
/* 12DB8 800121B8 AE048F18 */   sw        $a0, %lo(D_80038F18)($s0)
/* 12DBC 800121BC 2662FFFF */  addiu      $v0, $s3, -0x1
/* 12DC0 800121C0 18400014 */  blez       $v0, .L80012214
/* 12DC4 800121C4 00008821 */   addu      $s1, $zero, $zero
/* 12DC8 800121C8 02009021 */  addu       $s2, $s0, $zero
/* 12DCC 800121CC 2416FFFF */  addiu      $s6, $zero, -0x1
/* 12DD0 800121D0 0040A021 */  addu       $s4, $v0, $zero
/* 12DD4 800121D4 02208021 */  addu       $s0, $s1, $zero
.L800121D8:
/* 12DD8 800121D8 8E428F18 */  lw         $v0, %lo(D_80038F18)($s2)
/* 12DDC 800121DC 02A02021 */  addu       $a0, $s5, $zero
/* 12DE0 800121E0 02021021 */  addu       $v0, $s0, $v0
/* 12DE4 800121E4 24430014 */  addiu      $v1, $v0, 0x14
/* 12DE8 800121E8 AC430004 */  sw         $v1, 0x4($v0)
/* 12DEC 800121EC 0C004AD7 */  jal        func_80012B5C
/* 12DF0 800121F0 AC420014 */   sw        $v0, 0x14($v0)
/* 12DF4 800121F4 8E438F18 */  lw         $v1, %lo(D_80038F18)($s2)
/* 12DF8 800121F8 26310001 */  addiu      $s1, $s1, 0x1
/* 12DFC 800121FC 02031821 */  addu       $v1, $s0, $v1
/* 12E00 80012200 26100014 */  addiu      $s0, $s0, 0x14
/* 12E04 80012204 AC620010 */  sw         $v0, 0x10($v1)
/* 12E08 80012208 0234102A */  slt        $v0, $s1, $s4
/* 12E0C 8001220C 1440FFF2 */  bnez       $v0, .L800121D8
/* 12E10 80012210 AC76000C */   sw        $s6, 0xC($v1)
.L80012214:
/* 12E14 80012214 0C004AD7 */  jal        func_80012B5C
/* 12E18 80012218 02A02021 */   addu      $a0, $s5, $zero
/* 12E1C 8001221C 3C048004 */  lui        $a0, %hi(D_80038F30)
/* 12E20 80012220 24848F30 */  addiu      $a0, $a0, %lo(D_80038F30)
/* 12E24 80012224 00133040 */  sll        $a2, $s3, 1
/* 12E28 80012228 3C038004 */  lui        $v1, %hi(D_80038F20)
/* 12E2C 8001222C 8C658F20 */  lw         $a1, %lo(D_80038F20)($v1)
/* 12E30 80012230 3C038004 */  lui        $v1, %hi(D_80038F24)
/* 12E34 80012234 AC758F24 */  sw         $s5, %lo(D_80038F24)($v1)
/* 12E38 80012238 3C038004 */  lui        $v1, %hi(D_80038F28)
/* 12E3C 8001223C AC608F28 */  sw         $zero, %lo(D_80038F28)($v1)
/* 12E40 80012240 3C038004 */  lui        $v1, %hi(D_80038F10)
/* 12E44 80012244 3C078004 */  lui        $a3, %hi(D_80038F18)
/* 12E48 80012248 AC608F10 */  sw         $zero, %lo(D_80038F10)($v1)
/* 12E4C 8001224C 00111880 */  sll        $v1, $s1, 2
/* 12E50 80012250 00711821 */  addu       $v1, $v1, $s1
/* 12E54 80012254 8CE78F18 */  lw         $a3, %lo(D_80038F18)($a3)
/* 12E58 80012258 00031880 */  sll        $v1, $v1, 2
/* 12E5C 8001225C 00671821 */  addu       $v1, $v1, $a3
/* 12E60 80012260 AC620010 */  sw         $v0, 0x10($v1)
/* 12E64 80012264 2402FFFF */  addiu      $v0, $zero, -0x1
/* 12E68 80012268 AC62000C */  sw         $v0, 0xC($v1)
/* 12E6C 8001226C 3C028004 */  lui        $v0, %hi(D_80038F14)
/* 12E70 80012270 0C007468 */  jal        osCreateMesgQueue
/* 12E74 80012274 AC478F14 */   sw        $a3, %lo(D_80038F14)($v0)
/* 12E78 80012278 3C028001 */  lui        $v0, %hi(func_80012380)
/* 12E7C 8001227C 8FBF002C */  lw         $ra, 0x2C($sp)
/* 12E80 80012280 8FB60028 */  lw         $s6, 0x28($sp)
/* 12E84 80012284 8FB50024 */  lw         $s5, 0x24($sp)
/* 12E88 80012288 8FB40020 */  lw         $s4, 0x20($sp)
/* 12E8C 8001228C 8FB3001C */  lw         $s3, 0x1C($sp)
/* 12E90 80012290 8FB20018 */  lw         $s2, 0x18($sp)
/* 12E94 80012294 8FB10014 */  lw         $s1, 0x14($sp)
/* 12E98 80012298 8FB00010 */  lw         $s0, 0x10($sp)
/* 12E9C 8001229C 24422380 */  addiu      $v0, $v0, %lo(func_80012380)
/* 12EA0 800122A0 03E00008 */  jr         $ra
/* 12EA4 800122A4 27BD0030 */   addiu     $sp, $sp, 0x30

glabel func_800122A8
/* 12EA8 800122A8 3C038004 */  lui        $v1, %hi(D_80038F28)
/* 12EAC 800122AC 8C628F28 */  lw         $v0, %lo(D_80038F28)($v1)
/* 12EB0 800122B0 27BDFFD8 */  addiu      $sp, $sp, -0x28
/* 12EB4 800122B4 AFBF0020 */  sw         $ra, 0x20($sp)
/* 12EB8 800122B8 AFB1001C */  sw         $s1, 0x1C($sp)
/* 12EBC 800122BC 1040000B */  beqz       $v0, .L800122EC
/* 12EC0 800122C0 AFB00018 */   sw        $s0, 0x18($sp)
/* 12EC4 800122C4 3C118004 */  lui        $s1, %hi(D_80038F30)
/* 12EC8 800122C8 00608021 */  addu       $s0, $v1, $zero
.L800122CC:
/* 12ECC 800122CC 26248F30 */  addiu      $a0, $s1, %lo(D_80038F30)
/* 12ED0 800122D0 27A50010 */  addiu      $a1, $sp, 0x10
/* 12ED4 800122D4 0C007720 */  jal        osRecvMesg
/* 12ED8 800122D8 00003021 */   addu      $a2, $zero, $zero
/* 12EDC 800122DC 8E028F28 */  lw         $v0, %lo(D_80038F28)($s0)
/* 12EE0 800122E0 2442FFFF */  addiu      $v0, $v0, -0x1
/* 12EE4 800122E4 1440FFF9 */  bnez       $v0, .L800122CC
/* 12EE8 800122E8 AE028F28 */   sw        $v0, %lo(D_80038F28)($s0)
.L800122EC:
/* 12EEC 800122EC 3C028004 */  lui        $v0, %hi(D_80038F10)
/* 12EF0 800122F0 8C438F10 */  lw         $v1, %lo(D_80038F10)($v0)
/* 12EF4 800122F4 1060001D */  beqz       $v1, .L8001236C
/* 12EF8 800122F8 00000000 */   nop
/* 12EFC 800122FC 00403821 */  addu       $a3, $v0, $zero
/* 12F00 80012300 3C068004 */  lui        $a2, %hi(D_80038F14)
.L80012304:
/* 12F04 80012304 8C620008 */  lw         $v0, 0x8($v1)
/* 12F08 80012308 2442FFFF */  addiu      $v0, $v0, -0x1
/* 12F0C 8001230C 14400014 */  bnez       $v0, .L80012360
/* 12F10 80012310 AC620008 */   sw        $v0, 0x8($v1)
/* 12F14 80012314 8C650004 */  lw         $a1, 0x4($v1)
/* 12F18 80012318 10A00003 */  beqz       $a1, .L80012328
/* 12F1C 8001231C 00000000 */   nop
/* 12F20 80012320 8C620000 */  lw         $v0, 0x0($v1)
/* 12F24 80012324 ACA20000 */  sw         $v0, 0x0($a1)
.L80012328:
/* 12F28 80012328 8C640000 */  lw         $a0, 0x0($v1)
/* 12F2C 8001232C 10800004 */  beqz       $a0, .L80012340
/* 12F30 80012330 00000000 */   nop
/* 12F34 80012334 8C620004 */  lw         $v0, 0x4($v1)
/* 12F38 80012338 080048D2 */  j          .L80012348
/* 12F3C 8001233C AC820004 */   sw        $v0, 0x4($a0)
.L80012340:
/* 12F40 80012340 8C620004 */  lw         $v0, 0x4($v1)
/* 12F44 80012344 ACE28F10 */  sw         $v0, %lo(D_80038F10)($a3)
.L80012348:
/* 12F48 80012348 8CC28F14 */  lw         $v0, %lo(D_80038F14)($a2)
/* 12F4C 8001234C AC600000 */  sw         $zero, 0x0($v1)
/* 12F50 80012350 ACC38F14 */  sw         $v1, %lo(D_80038F14)($a2)
/* 12F54 80012354 AC620004 */  sw         $v0, 0x4($v1)
/* 12F58 80012358 080048D9 */  j          .L80012364
/* 12F5C 8001235C 00A01821 */   addu      $v1, $a1, $zero
.L80012360:
/* 12F60 80012360 8C630004 */  lw         $v1, 0x4($v1)
.L80012364:
/* 12F64 80012364 1460FFE7 */  bnez       $v1, .L80012304
/* 12F68 80012368 00000000 */   nop
.L8001236C:
/* 12F6C 8001236C 8FBF0020 */  lw         $ra, 0x20($sp)
/* 12F70 80012370 8FB1001C */  lw         $s1, 0x1C($sp)
/* 12F74 80012374 8FB00018 */  lw         $s0, 0x18($sp)
/* 12F78 80012378 03E00008 */  jr         $ra
/* 12F7C 8001237C 27BD0028 */   addiu     $sp, $sp, 0x28

glabel func_80012380
/* 12F80 80012380 3C028001 */  lui        $v0, %hi(func_8001238C)
/* 12F84 80012384 03E00008 */  jr         $ra
/* 12F88 80012388 2442238C */   addiu     $v0, $v0, %lo(func_8001238C)

glabel func_8001238C
/* 12F8C 8001238C 27BDFFE8 */  addiu      $sp, $sp, -0x18
/* 12F90 80012390 AFB00010 */  sw         $s0, 0x10($sp)
/* 12F94 80012394 AFBF0014 */  sw         $ra, 0x14($sp)
/* 12F98 80012398 0C0048FE */  jal        func_800123F8
/* 12F9C 8001239C 00808021 */   addu      $s0, $a0, $zero
/* 12FA0 800123A0 00402821 */  addu       $a1, $v0, $zero
/* 12FA4 800123A4 14A00003 */  bnez       $a1, .L800123B4
/* 12FA8 800123A8 3C03FF00 */   lui       $v1, (0xFF000000 >> 16)
/* 12FAC 800123AC 080048F8 */  j          .L800123E0
/* 12FB0 800123B0 02002021 */   addu      $a0, $s0, $zero
.L800123B4:
/* 12FB4 800123B4 02031024 */  and        $v0, $s0, $v1
/* 12FB8 800123B8 14430005 */  bne        $v0, $v1, .L800123D0
/* 12FBC 800123BC 3C0200FF */   lui       $v0, (0xFFFFFF >> 16)
/* 12FC0 800123C0 3442FFFF */  ori        $v0, $v0, (0xFFFFFF & 0xFFFF)
/* 12FC4 800123C4 02028024 */  and        $s0, $s0, $v0
/* 12FC8 800123C8 3C020014 */  lui        $v0, (0x140000 >> 16)
/* 12FCC 800123CC 02028021 */  addu       $s0, $s0, $v0
.L800123D0:
/* 12FD0 800123D0 8CA40010 */  lw         $a0, 0x10($a1)
/* 12FD4 800123D4 8CA2000C */  lw         $v0, 0xC($a1)
/* 12FD8 800123D8 00902021 */  addu       $a0, $a0, $s0
/* 12FDC 800123DC 00822023 */  subu       $a0, $a0, $v0
.L800123E0:
/* 12FE0 800123E0 0C006BB0 */  jal        osVirtualToPhysical
/* 12FE4 800123E4 00000000 */   nop
/* 12FE8 800123E8 8FBF0014 */  lw         $ra, 0x14($sp)
/* 12FEC 800123EC 8FB00010 */  lw         $s0, 0x10($sp)
/* 12FF0 800123F0 03E00008 */  jr         $ra
/* 12FF4 800123F4 27BD0018 */   addiu     $sp, $sp, 0x18

glabel func_800123F8
/* 12FF8 800123F8 27BDFFE8 */  addiu      $sp, $sp, -0x18
/* 12FFC 800123FC 00803821 */  addu       $a3, $a0, $zero
/* 13000 80012400 3C03FF00 */  lui        $v1, (0xFF000000 >> 16)
/* 13004 80012404 00E31024 */  and        $v0, $a3, $v1
/* 13008 80012408 AFBF0014 */  sw         $ra, 0x14($sp)
/* 1300C 8001240C 14430009 */  bne        $v0, $v1, .L80012434
/* 13010 80012410 AFB00010 */   sw        $s0, 0x10($sp)
/* 13014 80012414 3C028004 */  lui        $v0, %hi(D_80038F4C)
/* 13018 80012418 8C498F4C */  lw         $t1, %lo(D_80038F4C)($v0)
/* 1301C 8001241C 3C0200FF */  lui        $v0, (0xFFFFFF >> 16)
/* 13020 80012420 3442FFFF */  ori        $v0, $v0, (0xFFFFFF & 0xFFFF)
/* 13024 80012424 00E23824 */  and        $a3, $a3, $v0
/* 13028 80012428 3C020014 */  lui        $v0, (0x140000 >> 16)
/* 1302C 8001242C 08004914 */  j          .L80012450
/* 13030 80012430 00E23821 */   addu      $a3, $a3, $v0
.L80012434:
/* 13034 80012434 3C028004 */  lui        $v0, %hi(D_80038ED4)
/* 13038 80012438 8C428ED4 */  lw         $v0, %lo(D_80038ED4)($v0)
/* 1303C 8001243C 30420001 */  andi       $v0, $v0, 0x1
/* 13040 80012440 1440004C */  bnez       $v0, .L80012574
/* 13044 80012444 00001021 */   addu      $v0, $zero, $zero
/* 13048 80012448 3C028004 */  lui        $v0, %hi(D_80038F48)
/* 1304C 8001244C 8C498F48 */  lw         $t1, %lo(D_80038F48)($v0)
.L80012450:
/* 13050 80012450 00003021 */  addu       $a2, $zero, $zero
/* 13054 80012454 3C028004 */  lui        $v0, %hi(D_80038F10)
/* 13058 80012458 8C448F10 */  lw         $a0, %lo(D_80038F10)($v0)
/* 1305C 8001245C 1080000D */  beqz       $a0, .L80012494
/* 13060 80012460 00E52821 */   addu      $a1, $a3, $a1
/* 13064 80012464 3C028004 */  lui        $v0, %hi(D_80038F24)
/* 13068 80012468 8C488F24 */  lw         $t0, %lo(D_80038F24)($v0)
.L8001246C:
/* 1306C 8001246C 8C83000C */  lw         $v1, 0xC($a0)
/* 13070 80012470 00E3102B */  sltu       $v0, $a3, $v1
/* 13074 80012474 14400007 */  bnez       $v0, .L80012494
/* 13078 80012478 00681021 */   addu      $v0, $v1, $t0
/* 1307C 8001247C 0045102B */  sltu       $v0, $v0, $a1
/* 13080 80012480 10400015 */  beqz       $v0, .L800124D8
/* 13084 80012484 00803021 */   addu      $a2, $a0, $zero
/* 13088 80012488 8C840004 */  lw         $a0, 0x4($a0)
/* 1308C 8001248C 1480FFF7 */  bnez       $a0, .L8001246C
/* 13090 80012490 00000000 */   nop
.L80012494:
/* 13094 80012494 3C038004 */  lui        $v1, %hi(D_80038F14)
/* 13098 80012498 8C708F14 */  lw         $s0, %lo(D_80038F14)($v1)
/* 1309C 8001249C 16000004 */  bnez       $s0, .L800124B0
/* 130A0 800124A0 3C028004 */   lui       $v0, %hi(D_80038F10)
/* 130A4 800124A4 8C428F10 */  lw         $v0, %lo(D_80038F10)($v0)
/* 130A8 800124A8 0800495D */  j          .L80012574
/* 130AC 800124AC 00000000 */   nop
.L800124B0:
/* 130B0 800124B0 8E020004 */  lw         $v0, 0x4($s0)
/* 130B4 800124B4 10C0000A */  beqz       $a2, .L800124E0
/* 130B8 800124B8 AC628F14 */   sw        $v0, %lo(D_80038F14)($v1)
/* 130BC 800124BC 8CC20004 */  lw         $v0, 0x4($a2)
/* 130C0 800124C0 10400002 */  beqz       $v0, .L800124CC
/* 130C4 800124C4 AE020004 */   sw        $v0, 0x4($s0)
/* 130C8 800124C8 AC500000 */  sw         $s0, 0x0($v0)
.L800124CC:
/* 130CC 800124CC AE060000 */  sw         $a2, 0x0($s0)
/* 130D0 800124D0 0800493F */  j          .L800124FC
/* 130D4 800124D4 ACD00004 */   sw        $s0, 0x4($a2)
.L800124D8:
/* 130D8 800124D8 0800495D */  j          .L80012574
/* 130DC 800124DC 00801021 */   addu      $v0, $a0, $zero
.L800124E0:
/* 130E0 800124E0 3C038004 */  lui        $v1, %hi(D_80038F10)
/* 130E4 800124E4 8C628F10 */  lw         $v0, %lo(D_80038F10)($v1)
/* 130E8 800124E8 AE000000 */  sw         $zero, 0x0($s0)
/* 130EC 800124EC 10400002 */  beqz       $v0, .L800124F8
/* 130F0 800124F0 AE020004 */   sw        $v0, 0x4($s0)
/* 130F4 800124F4 AC500000 */  sw         $s0, 0x0($v0)
.L800124F8:
/* 130F8 800124F8 AC708F10 */  sw         $s0, %lo(D_80038F10)($v1)
.L800124FC:
/* 130FC 800124FC 3C058004 */  lui        $a1, %hi(D_80038F28)
/* 13100 80012500 2402FFFE */  addiu      $v0, $zero, -0x2
/* 13104 80012504 8CA48F28 */  lw         $a0, %lo(D_80038F28)($a1)
/* 13108 80012508 00E21024 */  and        $v0, $a3, $v0
/* 1310C 8001250C AE02000C */  sw         $v0, 0xC($s0)
/* 13110 80012510 24020002 */  addiu      $v0, $zero, 0x2
/* 13114 80012514 AE020008 */  sw         $v0, 0x8($s0)
/* 13118 80012518 3C028004 */  lui        $v0, %hi(D_80038F1C)
/* 1311C 8001251C 00041840 */  sll        $v1, $a0, 1
/* 13120 80012520 00641821 */  addu       $v1, $v1, $a0
/* 13124 80012524 24840001 */  addiu      $a0, $a0, 0x1
/* 13128 80012528 000318C0 */  sll        $v1, $v1, 3
/* 1312C 8001252C ACA48F28 */  sw         $a0, %lo(D_80038F28)($a1)
/* 13130 80012530 8C458F1C */  lw         $a1, %lo(D_80038F1C)($v0)
/* 13134 80012534 3C028004 */  lui        $v0, %hi(D_80038F30)
/* 13138 80012538 24428F30 */  addiu      $v0, $v0, %lo(D_80038F30)
/* 1313C 8001253C 00A32821 */  addu       $a1, $a1, $v1
/* 13140 80012540 A0A00002 */  sb         $zero, 0x2($a1)
/* 13144 80012544 ACA20004 */  sw         $v0, 0x4($a1)
/* 13148 80012548 8E020010 */  lw         $v0, 0x10($s0)
/* 1314C 8001254C 00003021 */  addu       $a2, $zero, $zero
/* 13150 80012550 ACA20008 */  sw         $v0, 0x8($a1)
/* 13154 80012554 3C028004 */  lui        $v0, %hi(D_80038F24)
/* 13158 80012558 8C428F24 */  lw         $v0, %lo(D_80038F24)($v0)
/* 1315C 8001255C 8E03000C */  lw         $v1, 0xC($s0)
/* 13160 80012560 01202021 */  addu       $a0, $t1, $zero
/* 13164 80012564 ACA20010 */  sw         $v0, 0x10($a1)
/* 13168 80012568 0C005808 */  jal        osEPiStartDma
/* 1316C 8001256C ACA3000C */   sw        $v1, 0xC($a1)
/* 13170 80012570 02001021 */  addu       $v0, $s0, $zero
.L80012574:
/* 13174 80012574 8FBF0014 */  lw         $ra, 0x14($sp)
/* 13178 80012578 8FB00010 */  lw         $s0, 0x10($sp)
/* 1317C 8001257C 03E00008 */  jr         $ra
/* 13180 80012580 27BD0018 */   addiu     $sp, $sp, 0x18
