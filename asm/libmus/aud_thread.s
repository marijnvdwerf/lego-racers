.include "macro.inc"

# assembler directives
.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches
.set gp=64     # allow use of 64-bit general purpose registers

.section .text, "ax"

glabel __MusIntAudManInit
/* 13350 80012750 27BDFFA8 */  addiu      $sp, $sp, -0x58
/* 13354 80012754 AFB20048 */  sw         $s2, 0x48($sp)
/* 13358 80012758 00809021 */  addu       $s2, $a0, $zero
/* 1335C 8001275C AFBF0050 */  sw         $ra, 0x50($sp)
/* 13360 80012760 AFB3004C */  sw         $s3, 0x4C($sp)
/* 13364 80012764 AFB10044 */  sw         $s1, 0x44($sp)
/* 13368 80012768 AFB00040 */  sw         $s0, 0x40($sp)
/* 1336C 8001276C 8E420004 */  lw         $v0, 0x4($s2)
/* 13370 80012770 AFA2001C */  sw         $v0, 0x1C($sp)
/* 13374 80012774 AFA20018 */  sw         $v0, 0x18($sp)
/* 13378 80012778 8E420028 */  lw         $v0, 0x28($s2)
/* 1337C 8001277C 00A08821 */  addu       $s1, $a1, $zero
/* 13380 80012780 AFA20020 */  sw         $v0, 0x20($sp)
/* 13384 80012784 8E440038 */  lw         $a0, 0x38($s2)
/* 13388 80012788 8E45003C */  lw         $a1, 0x3C($s2)
/* 1338C 8001278C 0C00484C */  jal        __MusIntDmaIni
/* 13390 80012790 00C08021 */   addu      $s0, $a2, $zero
/* 13394 80012794 AFA20028 */  sw         $v0, 0x28($sp)
/* 13398 80012798 A3B00034 */  sb         $s0, 0x34($sp)
/* 1339C 8001279C 8E44002C */  lw         $a0, 0x2C($s2)
/* 133A0 800127A0 0C005AD4 */  jal        osAiSetFrequency
/* 133A4 800127A4 00008021 */   addu      $s0, $zero, $zero
/* 133A8 800127A8 0C004AE9 */  jal        func_80012BA4
/* 133AC 800127AC AFA20030 */   sw        $v0, 0x30($sp)
/* 133B0 800127B0 3C048004 */  lui        $a0, %hi(D_80039120)
/* 133B4 800127B4 24849120 */  addiu      $a0, $a0, %lo(D_80039120)
/* 133B8 800127B8 27A50018 */  addiu      $a1, $sp, 0x18
/* 133BC 800127BC 0C004644 */  jal        func_80011910
/* 133C0 800127C0 AFA2002C */   sw        $v0, 0x2C($sp)
/* 133C4 800127C4 02203021 */  addu       $a2, $s1, $zero
/* 133C8 800127C8 8E440034 */  lw         $a0, 0x34($s2)
/* 133CC 800127CC 8FA50030 */  lw         $a1, 0x30($sp)
/* 133D0 800127D0 0C004A7C */  jal        __MusIntSamplesInit
/* 133D4 800127D4 2407000F */   addiu     $a3, $zero, 0xF
/* 133D8 800127D8 3C038004 */  lui        $v1, %hi(D_80039114)
/* 133DC 800127DC 00608821 */  addu       $s1, $v1, $zero
/* 133E0 800127E0 8E440030 */  lw         $a0, 0x30($s2)
/* 133E4 800127E4 00409821 */  addu       $s3, $v0, $zero
/* 133E8 800127E8 0C004AD7 */  jal        func_80012B5C
/* 133EC 800127EC 000420C0 */   sll       $a0, $a0, 3
/* 133F0 800127F0 24040018 */  addiu      $a0, $zero, 0x18
/* 133F4 800127F4 3C038004 */  lui        $v1, %hi(D_80039118)
/* 133F8 800127F8 0C004AD7 */  jal        func_80012B5C
/* 133FC 800127FC AC629118 */   sw        $v0, %lo(D_80039118)($v1)
/* 13400 80012800 AE229114 */  sw         $v0, %lo(D_80039114)($s1)
.L80012804:
/* 13404 80012804 0C004AD7 */  jal        func_80012B5C
/* 13408 80012808 00132080 */   sll       $a0, $s3, 2
/* 1340C 8001280C 001018C0 */  sll        $v1, $s0, 3
/* 13410 80012810 8E249114 */  lw         $a0, %lo(D_80039114)($s1)
/* 13414 80012814 26100001 */  addiu      $s0, $s0, 0x1
/* 13418 80012818 00641821 */  addu       $v1, $v1, $a0
/* 1341C 8001281C AC620000 */  sw         $v0, 0x0($v1)
/* 13420 80012820 2E020003 */  sltiu      $v0, $s0, 0x3
/* 13424 80012824 1440FFF7 */  bnez       $v0, .L80012804
/* 13428 80012828 00000000 */   nop
/* 1342C 8001282C 0C004AD7 */  jal        func_80012B5C
/* 13430 80012830 24042000 */   addiu     $a0, $zero, 0x2000
/* 13434 80012834 3C108004 */  lui        $s0, %hi(D_80038F60)
/* 13438 80012838 26108F60 */  addiu      $s0, $s0, %lo(D_80038F60)
/* 1343C 8001283C 02002021 */  addu       $a0, $s0, $zero
/* 13440 80012840 24050003 */  addiu      $a1, $zero, 0x3
/* 13444 80012844 3C068001 */  lui        $a2, %hi(func_80012890)
/* 13448 80012848 24C62890 */  addiu      $a2, $a2, %lo(func_80012890)
/* 1344C 8001284C 00003821 */  addu       $a3, $zero, $zero
/* 13450 80012850 24432000 */  addiu      $v1, $v0, 0x2000
/* 13454 80012854 AFA30010 */  sw         $v1, 0x10($sp)
/* 13458 80012858 8E48000C */  lw         $t0, 0xC($s2)
/* 1345C 8001285C 3C038004 */  lui        $v1, %hi(D_80039110)
/* 13460 80012860 AC629110 */  sw         $v0, %lo(D_80039110)($v1)
/* 13464 80012864 0C007CB4 */  jal        osCreateThread
/* 13468 80012868 AFA80014 */   sw        $t0, 0x14($sp)
/* 1346C 8001286C 0C007D5C */  jal        osStartThread
/* 13470 80012870 02002021 */   addu      $a0, $s0, $zero
/* 13474 80012874 8FBF0050 */  lw         $ra, 0x50($sp)
/* 13478 80012878 8FB3004C */  lw         $s3, 0x4C($sp)
/* 1347C 8001287C 8FB20048 */  lw         $s2, 0x48($sp)
/* 13480 80012880 8FB10044 */  lw         $s1, 0x44($sp)
/* 13484 80012884 8FB00040 */  lw         $s0, 0x40($sp)
/* 13488 80012888 03E00008 */  jr         $ra
/* 1348C 8001288C 27BD0058 */   addiu     $sp, $sp, 0x58

glabel func_80012890
/* 13490 80012890 27BDFFB8 */  addiu      $sp, $sp, -0x48
/* 13494 80012894 AFB20030 */  sw         $s2, 0x30($sp)
/* 13498 80012898 00009021 */  addu       $s2, $zero, $zero
/* 1349C 8001289C 3C028003 */  lui        $v0, %hi(D_800309BC)
/* 134A0 800128A0 AFB40038 */  sw         $s4, 0x38($sp)
/* 134A4 800128A4 0040A021 */  addu       $s4, $v0, $zero
/* 134A8 800128A8 AFB5003C */  sw         $s5, 0x3C($sp)
/* 134AC 800128AC 3C158003 */  lui        $s5, %hi(last_task)
/* 134B0 800128B0 AFB60040 */  sw         $s6, 0x40($sp)
/* 134B4 800128B4 3C168004 */  lui        $s6, %hi(D_80039114)
/* 134B8 800128B8 3C028001 */  lui        $v0, %hi(D_8000D870)
/* 134BC 800128BC 2442D870 */  addiu      $v0, $v0, %lo(D_8000D870)
/* 134C0 800128C0 AFA20018 */  sw         $v0, 0x18($sp)
/* 134C4 800128C4 3C028003 */  lui        $v0, %hi(D_80030430)
/* 134C8 800128C8 3C058004 */  lui        $a1, %hi(D_80039118)
/* 134CC 800128CC 8CA39118 */  lw         $v1, %lo(D_80039118)($a1)
/* 134D0 800128D0 8E8409BC */  lw         $a0, %lo(D_800309BC)($s4)
/* 134D4 800128D4 24420430 */  addiu      $v0, $v0, %lo(D_80030430)
/* 134D8 800128D8 AFBF0044 */  sw         $ra, 0x44($sp)
/* 134DC 800128DC AFB30034 */  sw         $s3, 0x34($sp)
/* 134E0 800128E0 AFB1002C */  sw         $s1, 0x2C($sp)
/* 134E4 800128E4 AFB00028 */  sw         $s0, 0x28($sp)
/* 134E8 800128E8 AFA2001C */  sw         $v0, 0x1C($sp)
/* 134EC 800128EC AFA30010 */  sw         $v1, 0x10($sp)
/* 134F0 800128F0 8C820000 */  lw         $v0, 0x0($a0)
/* 134F4 800128F4 0040F809 */  jalr       $v0
/* 134F8 800128F8 00A09821 */   addu      $s3, $a1, $zero
.L800128FC:
/* 134FC 800128FC 8E8209BC */  lw         $v0, %lo(D_800309BC)($s4)
/* 13500 80012900 8C420004 */  lw         $v0, 0x4($v0)
/* 13504 80012904 0040F809 */  jalr       $v0
/* 13508 80012908 00000000 */   nop
/* 1350C 8001290C 0C005AD0 */  jal        osAiGetStatus
/* 13510 80012910 00000000 */   nop
/* 13514 80012914 0C005ACC */  jal        osAiGetLength
/* 13518 80012918 00408021 */   addu      $s0, $v0, $zero
/* 1351C 8001291C 0600FFF7 */  bltz       $s0, .L800128FC
/* 13520 80012920 00028882 */   srl       $s1, $v0, 2
/* 13524 80012924 0C0048AA */  jal        func_800122A8
/* 13528 80012928 00000000 */   nop
/* 1352C 8001292C 8EA409C0 */  lw         $a0, %lo(last_task)($s5)
/* 13530 80012930 50800009 */  beql       $a0, $zero, .L80012958
/* 13534 80012934 02202021 */   addu      $a0, $s1, $zero
/* 13538 80012938 8FA20020 */  lw         $v0, 0x20($sp)
/* 1353C 8001293C 50400006 */  beql       $v0, $zero, .L80012958
/* 13540 80012940 02202021 */   addu      $a0, $s1, $zero
/* 13544 80012944 8C850004 */  lw         $a1, 0x4($a0)
/* 13548 80012948 8C840000 */  lw         $a0, 0x0($a0)
/* 1354C 8001294C 0C005B1C */  jal        osAiSetNextBuffer
/* 13550 80012950 00052880 */   sll       $a1, $a1, 2
/* 13554 80012954 02202021 */  addu       $a0, $s1, $zero
.L80012958:
/* 13558 80012958 8EC29114 */  lw         $v0, %lo(D_80039114)($s6)
/* 1355C 8001295C 001218C0 */  sll        $v1, $s2, 3
/* 13560 80012960 0C004AA4 */  jal        func_80012A90
/* 13564 80012964 00438021 */   addu      $s0, $v0, $v1
/* 13568 80012968 8E040000 */  lw         $a0, 0x0($s0)
/* 1356C 8001296C 0C006BB0 */  jal        osVirtualToPhysical
/* 13570 80012970 AE020004 */   sw        $v0, 0x4($s0)
/* 13574 80012974 27A50020 */  addiu      $a1, $sp, 0x20
/* 13578 80012978 8E649118 */  lw         $a0, %lo(D_80039118)($s3)
/* 1357C 8001297C 8E070004 */  lw         $a3, 0x4($s0)
/* 13580 80012980 0C0055AD */  jal        func_800156B4
/* 13584 80012984 00403021 */   addu      $a2, $v0, $zero
/* 13588 80012988 8FA30020 */  lw         $v1, 0x20($sp)
/* 1358C 8001298C 1060000B */  beqz       $v1, .L800129BC
/* 13590 80012990 00402021 */   addu      $a0, $v0, $zero
/* 13594 80012994 8E629118 */  lw         $v0, %lo(D_80039118)($s3)
/* 13598 80012998 8E8309BC */  lw         $v1, %lo(D_800309BC)($s4)
/* 1359C 8001299C 00821023 */  subu       $v0, $a0, $v0
/* 135A0 800129A0 000210C3 */  sra        $v0, $v0, 3
/* 135A4 800129A4 000210C0 */  sll        $v0, $v0, 3
/* 135A8 800129A8 AFA20014 */  sw         $v0, 0x14($sp)
/* 135AC 800129AC 8C620008 */  lw         $v0, 0x8($v1)
/* 135B0 800129B0 0040F809 */  jalr       $v0
/* 135B4 800129B4 27A40010 */   addiu     $a0, $sp, 0x10
/* 135B8 800129B8 AEB009C0 */  sw         $s0, %lo(last_task)($s5)
.L800129BC:
/* 135BC 800129BC 26430001 */  addiu      $v1, $s2, 0x1
/* 135C0 800129C0 3C02AAAA */  lui        $v0, (0xAAAAAAAB >> 16)
/* 135C4 800129C4 3442AAAB */  ori        $v0, $v0, (0xAAAAAAAB & 0xFFFF)
/* 135C8 800129C8 00620019 */  multu      $v1, $v0
/* 135CC 800129CC 00004010 */  mfhi       $t0
/* 135D0 800129D0 00089042 */  srl        $s2, $t0, 1
/* 135D4 800129D4 00121040 */  sll        $v0, $s2, 1
/* 135D8 800129D8 00521021 */  addu       $v0, $v0, $s2
/* 135DC 800129DC 08004A3F */  j          .L800128FC
/* 135E0 800129E0 00629023 */   subu      $s2, $v1, $v0
